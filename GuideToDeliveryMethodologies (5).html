<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Guide to Software Delivery Methodologies</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral -->
    <!-- Application Structure Plan: The SPA is structured with a responsive sidebar for navigation and a main content area. The sidebar now includes a dedicated "Overview" section at the top, which, when selected, displays the methodology comparison chart and the methodology selector. This design allows users to quickly access interactive tools for high-level understanding and recommendations. The individual methodology details are now grouped under separate navigation links, maintaining a clean and focused view for deep dives into each methodology. Content for each methodology is organized into collapsible accordions. This interactive, multi-faceted approach supports both quick comparison/selection and deep exploration. -->
    <!-- Visualization & Content Choices: Report Info: 14 distinct software development methodologies. Goal: Compare methodologies to help users understand their differences and choose the right one. Viz/Presentation: An interactive scatter plot (using Chart.js on Canvas) compares methodologies on two axes: Approach (Prescriptive/Structured vs. Flexible/Adaptive) and Scale (Single Team vs. Enterprise). Interaction: Clicking a point on the chart navigates to that methodology's detailed view. Justification: A visual comparison is more intuitive and faster to grasp than reading through all 14 descriptions. It synthesizes the key differentiators into an easily digestible format. Library/Method: Chart.js for its simplicity and powerful canvas-based rendering. Textual content is rendered dynamically into accordion sections for detailed, on-demand exploration. New Feature: Methodology Selector. Goal: Help users choose a methodology based on their project's needs. Viz/Presentation: HTML form elements (dropdowns) for criteria input, textual recommendation output, and a new comparison matrix (HTML table with sortable columns). Interaction: User selects criteria, clicks a button, recommendation and matrix displayed. Users can click table headers to sort the matrix. Justification: Transforms passive consumption into active active problem-solving, directly addressing user's practical needs and providing a structured, interactive comparison. Library/Method: Vanilla JS for logic, HTML/Tailwind for UI. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        /* Base styles for light mode */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fdfdfc;
            color: #3f3f46;
            display: flex; /* Make body a flex container */
            flex-direction: column; /* Stack children vertically */
            min-height: 100vh; /* Ensure body takes full viewport height */
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition for dark mode */
        }
        .main-container { /* New container for sidebar and main content */
            display: flex;
            flex: 1; /* Allow it to grow and take available space */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
        .sidebar {
            transition: transform 0.3s ease-in-out;
        }
        .sidebar-hidden {
            transform: translateX(-100%);
        }
        .nav-link {
            transition: all 0.2s ease-in-out;
        }
        .nav-link.active {
            background-color: #e2e8f0;
            color: #1e293b;
            font-weight: 600;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            padding: 0 1.5rem;
        }
        .accordion-content.open {
            max-height: 2000px; /* Large enough for content */
            padding: 1rem 1.5rem 1.5rem;
        }
        .prose-custom p { margin-bottom: 1rem; }
        .prose-custom ul { list-style-position: inside; }
        .prose-custom li { margin-bottom: 0.5rem; }
        .sortable-header {
            cursor: pointer;
            position: relative;
            padding-right: 1.5rem; /* Space for arrow */
        }
        .sort-arrow {
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8em;
            color: #64748b;
        }
        .parameter-item {
            @apply px-4 py-2 rounded-md bg-slate-100 text-slate-700 cursor-pointer hover:bg-slate-200 transition-colors duration-200;
        }
        .parameter-item.selected {
            @apply bg-sky-200 text-sky-800 font-semibold;
        }
        /* Slider styling */
        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: #cbd5e1;
            border-radius: 5px;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #0ea5e9;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #fff;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #0ea5e9;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #fff;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }

        /* Dark Mode styles */
        body.dark {
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
        }
        body.dark .main-container {
            background-color: #1a202c;
        }
        body.dark .sidebar {
            background-color: #2d3748; /* Darker sidebar */
            border-color: #4a5568;
        }
        body.dark .sidebar .text-slate-500 {
            color: #a0aec0;
        }
        body.dark .nav-link {
            color: #cbd5e1;
        }
        body.dark .nav-link.active {
            background-color: #4a5568;
            color: #f8fafc;
        }
        body.dark header {
            background-color: #2d3748; /* Darker header */
            border-color: #4a5568;
        }
        body.dark h1, body.dark h2, body.dark h3 {
            color: #f8fafc;
        }
        body.dark .text-slate-600 {
            color: #a0aec0;
        }
        body.dark .bg-white {
            background-color: #2d3748; /* Darker content sections */
            border-color: #4a5568;
        }
        body.dark .border-slate-200 {
            border-color: #4a5568;
        }
        body.dark .accordion-toggle {
            color: #f8fafc;
            background-color: #2d3748;
        }
        body.dark .accordion-toggle:hover {
            background-color: #4a5568;
        }
        body.dark .bg-slate-50 { /* Selects background */
            background-color: #2d3748;
            border-color: #4a5568;
            color: #e2e8f0;
        }
        body.dark .bg-slate-100 { /* Footer background, parameter item */
            background-color: #2d3748;
            color: #a0aec0;
        }
        body.dark .bg-slate-200 { /* Buttons */
            background-color: #4a5568;
            color: #f8fafc;
        }
        body.dark .bg-slate-200:hover {
            background-color: #64748b;
        }
        body.dark .text-slate-700 {
            color: #e2e8f0;
        }
        body.dark .text-sky-700 {
            color: #7dd3fc;
        }
        body.dark .bg-sky-50\/50 {
            background-color: rgba(56, 189, 248, 0.2);
            border-color: #0ea5e9;
        }
        body.dark .bg-sky-100\/50 {
            background-color: rgba(56, 189, 248, 0.1);
            border-color: #0ea5e9;
        }
        body.dark .text-slate-800 {
            color: #f8fafc;
        }
        body.dark .text-slate-900 {
            color: #f8fafc;
        }
        body.dark .text-slate-400 {
            color: #94a3b8;
        }
        body.dark .text-slate-300 {
            color: #94a3b8;
        }
        body.dark .text-slate-50 {
            color: #e2e8f0;
        }
        body.dark .text-slate-600 {
            color: #a0aec0;
        }
        body.dark .text-sky-800 {
            color: #7dd3fc;
        }
        body.dark .text-sky-200 {
            background-color: #0ea5e9;
            color: #f8fafc;
        }
        body.dark .bg-sky-200 {
            background-color: #0ea5e9;
            color: #f8fafc;
        }
        body.dark .bg-sky-200:hover {
            background-color: #0284c7;
        }
        body.dark .sort-arrow {
            color: #a0aec0;
        }
        body.dark input[type="range"] {
            background: #4a5568;
        }
        body.dark input[type="range"]::-webkit-slider-thumb {
            background: #38bdf8;
            border-color: #1a202c;
        }
        body.dark input[type="range"]::-moz-range-thumb {
            background: #38bdf8;
            border-color: #1a202c;
        }
        body.dark .chartjs-render-monitor {
            background-color: #2d3748 !important; /* Chart background in dark mode */
        }
        body.dark .chart-container canvas {
            background-color: #2d3748 !important; /* Ensure canvas background is dark */
        }
        body.dark .chartjs-tooltip {
            background-color: #1e293b !important;
        }
        body.dark .chartjs-tooltip-title {
            color: #f8fafc !important;
        }
        body.dark .chartjs-tooltip-body {
            color: #f8fafc !important;
        }
        body.dark .chartjs-grid-line {
            color: #4a5568 !important;
        }
        body.dark .chartjs-axis-title {
            color: #e2e8f0 !important;
        }
        body.dark .chartjs-axis-label {
            color: #e2e8f0 !important;
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 767px) {
            .main-container {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                height: 100vh;
                top: 0;
                left: 0;
                padding-top: 4rem; /* Space for fixed header */
                z-index: 40; /* Above overlay */
            }
            .sidebar-hidden {
                transform: translateX(-100%);
            }
            .main-content {
                margin-left: 0;
            }
            .p-4.md\:p-8 {
                padding: 1rem; /* Smaller padding on mobile */
            }
            .grid-cols-1.md\:grid-cols-2 {
                grid-template-columns: 1fr; /* Stack columns on mobile */
            }
            .flex-1.flex.flex-col.overflow-hidden {
                width: 100%; /* Take full width on mobile */
            }
            header {
                position: fixed;
                width: 100%;
                top: 0;
                left: 0;
                z-index: 50; /* Ensure header is on top */
            }
            main {
                padding-top: 5rem; /* Adjust main content padding for fixed header */
            }
            .chart-container {
                height: 300px; /* Adjust chart height for smaller screens */
            }
            /* Table responsiveness - horizontal scroll */
            .overflow-x-auto {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
            }
            table {
                min-width: 600px; /* Ensure table doesn't shrink too much */
            }
        }
    </style>
</head>
<body class="antialiased">

    <div class="main-container bg-[#fdfdfc]">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="fixed inset-y-0 left-0 z-30 w-64 bg-slate-50 border-r border-slate-200 transform md:relative md:translate-x-0 sidebar sidebar-hidden">
            <div class="p-4">
                <div class="text-sm text-slate-500 mb-2">Version: Beta</div>
            </div>
            <nav id="methodology-nav" class="flex-grow p-2 space-y-1 overflow-y-auto">
                <!-- Navigation links will be populated by JS -->
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <header class="flex items-center justify-between p-4 bg-white/80 backdrop-blur-sm border-b border-slate-200 sticky top-0 z-20">
                <button id="menu-toggle" class="md:hidden p-2 rounded-md text-slate-600 hover:bg-slate-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
                <h1 class="text-2xl font-bold text-slate-800">Guide to Software Delivery Methodologies</h1>
                <!-- Dark Mode Toggle -->
                <button id="dark-mode-toggle" class="p-2 rounded-md text-slate-600 hover:bg-slate-200 ml-4">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path id="moon-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        <path id="sun-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h1M4 12H3m15.325 6.675l-.707.707M6.707 6.707l-.707-.707m12.728 0l-.707-.707M6.707 17.293l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" class="hidden"></path>
                    </svg>
                </button>
            </header>

            <main class="flex-1 overflow-y-auto p-4 md:p-8 bg-[#fdfdfc]">
                <div class="max-w-7xl mx-auto">
                    
                    <!-- Interactive Tools Section (Comparison Chart + Selector) -->
                    <section id="interactive-tools-section" class="hidden">
                        <section id="comparison-section" class="mb-12 bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                            <h2 class="text-2xl font-bold mb-2 text-slate-800">Methodology Comparison</h2>
                            <p class="mb-6 text-slate-600">This chart provides a visual comparison of various methodologies. Select two parameters below to define the X and Y axes.</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                                <div>
                                    <!-- Y-Axis Parameter Selector -->
                                    <label for="chart-y-axis" class="block text-sm font-medium text-slate-700 mb-1">Y-Axis:</label>
                                    <select id="chart-y-axis" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="projectScale">Project Size/Scale</option>
                                        <option value="flexibility">Flexibility/Adaptability</option>
                                        <option value="reqStability">Requirement Stability</option>
                                        <option value="riskMitigation">Risk Mitigation</option>
                                        <option value="upfrontPlanning">Upfront Planning</option>
                                        <option value="customerInvolvement">Customer Involvement</option>
                                        <option value="releaseFrequency">Release Frequency</option>
                                    </select>
                                </div>
                                <div>
                                    <!-- X-Axis Parameter Selector -->
                                    <label for="chart-x-axis" class="block text-sm font-medium text-slate-700 mb-1">X-Axis:</label>
                                    <select id="chart-x-axis" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="flexibility">Flexibility/Adaptability</option>
                                        <option value="projectScale">Project Size/Scale</option>
                                        <option value="reqStability">Requirement Stability</option>
                                        <option value="riskMitigation">Risk Mitigation</option>
                                        <option value="upfrontPlanning">Upfront Planning</option>
                                        <option value="customerInvolvement">Customer Involvement</option>
                                        <option value="releaseFrequency">Release Frequency</option>
                                    </select>
                                </div>
                            </div>

                            <div class="chart-container">
                                <canvas id="methodologyChart"></canvas>
                            </div>
                        </section>

                        <section id="selector-section" class="mb-12 bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                            <h2 class="text-2xl font-bold mb-2 text-slate-800">Find Your Methodology</h2>
                            <p class="mb-6 text-slate-600">Answer a few questions about your project to get a recommendation for suitable delivery methodologies.</p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label for="regulation" class="block text-sm font-medium text-slate-700 mb-1">1. Industry Type</label>
                                    <select id="regulation" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="yes">Yes, regulated industry</option>
                                        <option value="no">No, standard industry</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="safety" class="block text-sm font-medium text-slate-700 mb-1">2. Safety Requirements</label>
                                    <select id="safety" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="yes">Yes, safety-critical</option>
                                        <option value="no">No, standard risk</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="teamSize" class="block text-sm font-medium text-slate-700 mb-1">3. Team Structure</label>
                                    <select id="teamSize" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="small">Small (1-5 people, co-located)</option>
                                        <option value="medium">Medium (6-20 people, mixed)</option>
                                        <option value="large">Large (50+ people, multiple teams)</option>
                                        <option value="remote">Fully remote/distributed</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="techContext" class="block text-sm font-medium text-slate-700 mb-1">4. Technical Context</label>
                                    <select id="techContext" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="legacy">Legacy systems/maintenance</option>
                                        <option value="cloud">Cloud-native/microservices</option>
                                        <option value="embedded">Embedded/IoT systems</option>
                                        <option value="ai">AI/ML/data-intensive</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="businessGoal" class="block text-sm font-medium text-slate-700 mb-1">5. Business Goals</label>
                                    <select id="businessGoal" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="speed">Speed to market</option>
                                        <option value="reliability">High reliability</option>
                                        <option value="innovation">Breakthrough innovation</option>
                                        <option value="cost">Cost reduction</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="requirements" class="block text-sm font-medium text-slate-700 mb-1">6. Requirements Stability</label>
                                    <select id="requirements" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="stable">Very stable (â‰¤10% changes expected)</option>
                                        <option value="moderate">Moderate (10-30% changes expected)</option>
                                        <option value="volatile">Highly volatile (>30% changes expected)</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="releaseFreq" class="block text-sm font-medium text-slate-700 mb-1">7. Release Frequency</label>
                                    <select id="releaseFreq" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="months">Every 3+ months</option>
                                        <option value="weeks">Weekly to monthly</option>
                                        <option value="days">Daily to weekly</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="qualitySpeed" class="block text-sm font-medium text-slate-700 mb-1">8. Quality vs Speed</label>
                                    <select id="qualitySpeed" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="quality">Quality/reliability (even if slower)</option>
                                        <option value="speed">Speed to market (accepting some risk)</option>
                                        <option value="balance">Balance of both</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="teamExp" class="block text-sm font-medium text-slate-700 mb-1">9. Team Experience</label>
                                    <select id="teamExp" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="novice">Novice (new to Agile)</option>
                                        <option value="some">Some experience</option>
                                        <option value="expert">Highly experienced</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="customerAccess" class="block text-sm font-medium text-slate-700 mb-1">10. Customer Access</label>
                                    <select id="customerAccess" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-slate-300 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm rounded-md bg-slate-50">
                                        <option value="">-- Select --</option>
                                        <option value="rare">Rarely (few times/year)</option>
                                        <option value="sometimes">Occasionally (monthly)</option>
                                        <option value="frequent">Continuously (weekly or more)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mt-6">
                                <button id="recommend-btn" class="px-6 py-2 bg-sky-600 text-white font-semibold rounded-md hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2">
                                    Recommend Methodology
                                </button>
                                <button id="reset-btn" class="px-6 py-2 bg-slate-200 text-slate-700 font-semibold rounded-md hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2">
                                    Reset
                                </button>
                            </div>
                            <div id="recommendation-output" class="mt-6 p-4 bg-sky-50/50 border border-sky-200 rounded-md text-slate-700 hidden">
                                <h3 class="font-semibold text-lg mb-2">Recommended Methodologies:</h3>
                                <ul id="recommendation-list" class="list-disc pl-5 space-y-1 mb-4"></ul>
                                <div id="comparison-matrix-container" class="mt-4 overflow-x-auto"></div>
                                <p id="recommendation-message" class="text-sm mt-2"></p>
                            </div>
                        </section>

                        <!-- New Detailed Selector Section -->
                        <section id="detailed-selector-section" class="mb-12 bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                            <h2 class="text-2xl font-bold mb-2 text-slate-800">Advanced Methodology Selector</h2>
                            <p class="mb-6 text-slate-600">Utilize a more detailed set of criteria to find the best-fit methodology for your project. Select your preference for each factor on a scale of 1 to 5.</p>
                            
                            <div id="detailed-criteria-form">
                                <!-- Detailed criteria inputs will be dynamically generated here -->
                            </div>

                            <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mt-6">
                                <button id="detailed-recommend-btn" class="px-6 py-2 bg-sky-600 text-white font-semibold rounded-md hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2">
                                    Get Detailed Recommendation
                                </button>
                                <button id="detailed-reset-btn" class="px-6 py-2 bg-slate-200 text-slate-700 font-semibold rounded-md hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2">
                                    Reset Detailed
                                </button>
                            </div>
                            <div id="detailed-recommendation-output" class="mt-6 p-4 bg-sky-50/50 border border-sky-200 rounded-md text-slate-700 hidden">
                                <h3 class="font-semibold text-lg mb-2">Recommended Methodologies (Detailed):</h3>
                                <ul id="detailed-recommendation-list" class="list-disc pl-5 space-y-1 mb-4"></ul>
                                <div id="detailed-comparison-matrix-container" class="mt-4 overflow-x-auto"></div>
                                <p id="detailed-recommendation-message" class="text-sm mt-2"></p>
                            </div>
                        </section>
                    </section>
                    
                    <!-- Dynamic Content Section -->
                    <section id="content-section" class="hidden bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-200">
                        <!-- Methodology content will be populated here -->
                    </section>

                </div>
            </main>
        </div>
    </div>
    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden"></div>

    <footer class="p-4 bg-slate-100 text-slate-600 text-center text-xs border-t border-slate-200">
        <!-- Removed "Generated by Gemini" reference -->
    </footer>

<script>
const methodologiesData = {
    "Scrum": {
        coreConcept: "Scrum is a lightweight, iterative, and incremental Agile framework that helps teams deliver value in short, time-boxed cycles called **Sprints**. It's designed for developing and sustaining complex products in environments where requirements are likely to change.",
        principles: ["Empiricism: Knowledge comes from experience and making decisions based on what is observed.", "Lean thinking: Maximizing value, minimizing waste.", "Commitment: To achieving the Sprint Goal.", "Focus: On the work of the Sprint and the Sprint Goal.", "Openness: About the work and the challenges.", "Respect: For each other as capable, independent people.", "Courage: To do the right thing and work on tough problems."],
        components: [
            "Roles: Product Owner, Scrum Master, Developers.",
            "Events (Ceremonies): The Sprint, Sprint Planning, Daily Scrum, Sprint Review, Sprint Retrospective.",
            "Artifacts/Tools: Product Backlog, Sprint Backlog, Increment.",
            "Other Significant Concepts: Definition of Done (DoD)."
        ],
        howItWorks: ["The Product Owner refines the Product Backlog.", "The team plans a Sprint, defining a Sprint Goal and selecting items for the Sprint Backlog.", "Developers work in the Sprint, holding Daily Scrums to synchronize.", "At the end of the Sprint, the 'Done' Increment is demonstrated to stakeholders for feedback.", "The team holds a Sprint Retrospective to identify process improvements.", "The cycle repeats."],
        advantages: ["High adaptability to changing requirements.", "Frequent stakeholder feedback through regular delivery.", "Increased transparency into progress and challenges.", "Improved quality through continuous inspection.", "Enhanced collaboration and team self-organization."],
        disadvantages: ["Can be challenging if team members are split across projects.", "Risk of scope creep without a disciplined Product Owner.", "Less predictable for fixed-price projects.", "Requires experienced and mature team members to self-organize effectively."],
        implementationSteps: [
            "Form Cross-Functional Teams: Organize into self-organizing, cross-functional teams (typically 5-11 members).",
            "Define Product Vision & Backlog: Product Owner creates a clear Product Vision and a prioritized Product Backlog.",
            "Sprint Planning: Team selects items from Product Backlog to create a Sprint Backlog for a 1-4 week Sprint.",
            "Daily Scrum: Team holds a 15-minute daily meeting to synchronize efforts and plan for the next 24 hours.",
            "Develop Increment: Developers work collaboratively to produce a 'Done' increment that meets the Definition of Done.",
            "Sprint Review: Team demonstrates the completed increment to stakeholders and gathers feedback and adapts the Product Backlog.",
            "Sprint Retrospective: Team inspects its process, identifies what went well and what could be improved, and plans improvements for the next Sprint.",
            "Repeat: Continue Sprints iteratively until the product vision is achieved or the project is concluded."
        ],
        implementationRisks: [
            "Lack of Product Owner availability/empowerment: Risk: Stalled decision-making, unclear priorities. Mitigation: Ensure Product Owner has sufficient time, authority, and training; establish clear communication channels.",
            "Team resistance to self-organization: Risk: Team waits for direction, blames others. Mitigation: Strong Scrum Master coaching, leadership support, gradual empowerment, celebrate small successes.",
            "Incomplete 'Definition of Done': Risk: Undeliverable increments, hidden work. Mitigation: Collaboratively define a clear, comprehensive DoD; continuously refine it; ensure all work meets DoD before considering 'Done'.",
            "Ignoring technical debt: Risk: Slowdown over time, unstable product. Mitigation: Prioritize refactoring and quality tasks in the Sprint Backlog; enforce XP practices like TDD and CI.",
            "Stakeholder disengagement: Risk: Irrelevant product, missed feedback. Mitigation: Actively involve stakeholders in Sprint Reviews; demonstrate tangible progress; clearly communicate value."
        ],
        whenToUse: ["Projects with evolving or unclear requirements.", "When rapid feedback and adaptation are crucial.", "For complex product development where learning is continuous.", "Teams that can commit to fixed-length iterations."],
        criteria: {
            reqStability: 4 * 2, // Scaled from 4 to 8
            projectScale: 3 * 2, // Scaled from 3 to 6
            flexibility: 8 * 2, // Scaled from 4 to 8
            riskMitigation: 7 * 2, // Scaled from 4 to 7
            upfrontPlanning: 4 * 2, // Scaled from 2 to 4
            customerInvolvement: 9 * 2, // Scaled from 4 to 9
            releaseFrequency: 7 * 2, // Scaled from 4 to 7
            qualityFocus: 7 * 2, // Scaled from 3 to 7
            speedFocus: 8 * 2, // Scaled from 4 to 8
            teamMaturityRequired: 6 * 2 // Scaled from 3 to 6
        }
    },
    "Kanban": {
        coreConcept: "Kanban is a lean delivery methodology focused on visualizing work, limiting work-in-progress (WIP), and maximizing efficiency through a continuous, smooth flow. It emphasizes evolutionary change and is often used to improve existing processes incrementally.",
        principles: ["Start with what you do now: No need for a radical overhaul; apply Kanban to your current process.", "Agree to pursue incremental, evolutionary change: Foster continuous, small improvements.", "Respect the current process, roles, and responsibilities: Work within existing structures initially.", "Encourage acts of leadership at all levels: Promote a culture of improvement."],
        components: [
            "Artifacts/Tools: Kanban Board.",
            "Other Significant Concepts: Visualize Work, Limit Work-in-Progress (WIP), Manage Flow, Explicit Policies, Feedback Loops."
        ],
        howItWorks: ["The team maps its current workflow on a Kanban board.", "WIP limits are set for 'in-progress' columns.", "New work is 'pulled' into the next stage as capacity becomes available.", "The team continuously monitors the flow, identifying and addressing bottlenecks.", "Continuous improvement is driven by data analysis (e.g., Cycle Time)."],
        advantages: ["Highly flexible and adaptable to changing priorities.", "Enables continuous delivery through a steady flow of work.", "Reduces waste and improves efficiency by limiting WIP.", "Provides immediate visual transparency into work status.", "Can be implemented non-disruptively on existing processes."],
        disadvantages: ["Less prescriptive, which can be a challenge for teams needing structure.", "Can lack a sense of urgency without fixed deadlines.", "Requires team discipline to be effective.", "Doesn't inherently provide a comprehensive scaling framework."],
        implementationSteps: [
            "Visualize Workflow: Create a Kanban board (physical or digital) that visually maps all stages of your current workflow, from idea to delivery.",
            "Limit Work-in-Progress (WIP): Set explicit WIP limits for each column or stage on the Kanban board to prevent bottlenecks and pre-vent completion of work.",
            "Manage Flow: Continuously monitor work items as they flow through the board, identifying and addressing any blockages or slowdowns.",
            "Establish Explicit Policies: Define clear rules and guidelines for when work can move between stages, ensuring everyone understands the process.",
            "Implement Feedback Loops: Hold regular meetings (e.g., daily stand-ups, service delivery reviews, operations reviews) to discuss flow, metrics, and improvements.",
            "Improve Collaboratively, Experimentally: Use metrics like Cycle Time and Lead Time to identify areas for improvement and experiment with small, incremental changes to optimize the flow of value."
        ],
        implementationRisks: [
            "Ignoring WIP limits: Risk: Bottlenecks, reduced flow, increased lead time. Mitigation: Coach teams on the purpose of WIP limits; make violations highly visible; empower teams to enforce limits.",
            "Lack of explicit policies: Risk: Inconsistent work quality, confusion. Mitigation: Collaboratively define clear policies for each column; make them visible and easily accessible.",
            "Focusing only on local optimization: Risk: Sub-optimization, not improving overall flow. Mitigation: Use Value Stream Mapping to understand the end-to-end flow; measure system-level metrics like Lead Time.",
            "Resistance to change: Risk: Teams revert to old habits. Mitigation: Emphasize evolutionary change; involve teams in identifying improvements; demonstrate measurable benefits.",
            "Not addressing impediments: Risk: Flow blockages persist, frustration. Mitigation: Establish clear mechanisms for escalating and resolving impediments; ensure management support for impediment removal."
        ],
        whenToUse: ["Teams with a continuous flow of incoming work (e.g., support, operations).", "When priorities change frequently.", "For improving existing processes incrementally.", "When the primary goal is to optimize workflow and reduce lead/cycle time."],
        criteria: {
            reqStability: 8 * 2, // Scaled from 5 to 8
            projectScale: 3 * 2, // Scaled from 3 to 6
            flexibility: 9 * 2, // Scaled from 5 to 9
            riskMitigation: 7 * 2, // Scaled from 4 to 7
            upfrontPlanning: 2 * 2, // Scaled from 1 to 2
            customerInvolvement: 7 * 2, // Scaled from 3 to 7
            releaseFrequency: 9 * 2, // Scaled from 4 to 9
            qualityFocus: 6 * 2, // Scaled from 3 to 6
            speedFocus: 9 * 2, // Scaled from 5 to 9
            teamMaturityRequired: 5 * 2 // Scaled from 2 to 5
        }
    },
    "SAFe": {
        coreConcept: "The Scaled Agile Framework (SAFe) is a comprehensive, prescriptive framework for implementing Lean-Agile practices at an enterprise scale. It provides structured guidance on roles, responsibilities, planning, and management to enable alignment, collaboration, and delivery across large numbers of Agile teams.",
        principles: ["Built upon 10 Lean-Agile Principles including 'Take an economic view', 'Apply systems thinking', and 'Organize around value'.", "Guided by 4 Core Values: Alignment, Built-in Quality, Transparency, and Program Execution."],
        components: [
            "Levels of Scale: Essential, Large Solution, Portfolio, Full.",
            "Roles: Agile Teams, Release Train Engineer (RTE), Product Management, System Architect/Engineer, Business Owners.",
            "Events (Ceremonies): Iteration (Sprint), Program Increment (PI), PI Planning, System Demo, Inspect & Adapt (I&A).",
            "Artifacts/Tools: Features, Capabilities, Epics, Value Streams.",
            "Other Significant Concepts: Agile Release Train (ART), Continuous Delivery Pipeline."
        ],
        howItWorks: ["Portfolio level sets strategy with themes and epics.", "ARTs plan work for the next 8-12 weeks in a PI Planning event.", "Agile Teams execute work in Sprints, integrating and demonstrating progress regularly.", "The ART inspects and adapts its process at the end of each PI.", "Solutions are released on demand through a Continuous Delivery Pipeline."],
        advantages: ["Provides clear structure for enterprise-scale alignment.", "Facilitates coordination and dependency management across many teams.", "Increases predictability for large solutions.", "Offers transparency across all organizational levels.", "Manages risk at multiple levels."],
        disadvantages: ["Can be complex, prescriptive, and bureaucratic.", "High cost and effort for implementation and training.", "Requires a significant cultural shift from leadership.", "Criticized for being a 'heavy' version of Agile."],
        implementationSteps: [
            "Train Leaders & Teams: Provide comprehensive training to leadership, Scrum Masters, Product Owners, and development teams on SAFe principles and practices.",
            "Identify Value Streams & ARTs: Define the operational and development value streams within the organization and organize Agile Release Trains (ARTs) around them.",
            "Launch ARTs: Conduct ART launch workshops to align all teams within an ART on their mission and initial backlog.",
            "Implement PI Planning: Hold Program Increment (PI) Planning events (typically every 8-12 weeks) where all teams in an ART collaboratively plan and commit to objectives for the upcoming PI.",
            "Execute Iterations: Teams execute work in short, fixed-length iterations (Sprints) within the PI, following their chosen Agile methodology (e.g., Scrum, Kanban).",
            "System Demos: Conduct regular System Demos at the end of each iteration and a final System Demo at the end of each PI to integrate and demonstrate the working solution to stakeholders.",
            "Inspect & Adapt (I&A): Hold PI Inspect & Adapt workshops at the end of each PI to review the ART's performance, identify systemic problems, and create improvement backlog items.",
            "Release on Demand: Continuously deploy solutions to production as they are completed and validated, leveraging a Continuous Delivery Pipeline."
        ],
        implementationRisks: [
            "Over-prescription and bureaucracy: Risk: Loss of agility, increased overhead. Mitigation: Focus on 'minimal viable SAFe'; empower ARTs to tailor practices; continuously simplify processes.",
            "Resistance to cultural change: Risk: Lack of adoption, reversion to old ways. Mitigation: Strong leadership commitment and sponsorship; continuous coaching; demonstrate early successes and benefits.",
            "Insufficient training/coaching: Risk: Misunderstanding of roles/events, poor execution. Mitigation: Invest heavily in certified trainers and experienced coaches; provide ongoing support.",
            "Failure to decentralize decision-making: Risk: Bottlenecks, disempowered teams. Mitigation: Clearly define decision boundaries; empower ARTs and teams; leadership trusts teams to make local decisions.",
            "Lack of continuous integration across ARTs: Risk: Big-bang integration issues, delayed releases. Mitigation: Invest in technical infrastructure for continuous integration; enforce frequent integration points; promote built-in quality practices."
        ],
        whenToUse: ["Large enterprises with hundreds or thousands of developers.", "Building large, complex solutions requiring multi-team coordination.", "When aligning strategic business goals with execution at scale is a primary challenge.", "Companies seeking a structured, comprehensive framework for Agile transformation."],
        criteria: {
            reqStability: 6 * 2, // Scaled from 3 to 6
            projectScale: 10 * 2, // Scaled from 5 to 10
            flexibility: 6 * 2, // Scaled from 3 to 6
            riskMitigation: 8 * 2, // Scaled from 4 to 8
            upfrontPlanning: 7 * 2, // Scaled from 4 to 7
            customerInvolvement: 7 * 2, // Scaled from 3 to 7
            releaseFrequency: 5 * 2, // Scaled from 3 to 5
            qualityFocus: 8 * 2, // Scaled from 4 to 8
            speedFocus: 6 * 2, // Scaled from 3 to 6
            teamMaturityRequired: 8 * 2 // Scaled from 4 to 8
        }
    },
    "Waterfall": {
        coreConcept: "The Waterfall delivery methodology is a traditional, sequential, and linear approach where each project phase must be completed and signed off before the next phase can begin. Progress flows steadily downwards through distinct stages.",
        principles: ["Sequential Progression: Phases follow a strict, non-overlapping order.", "Predictive Planning: Relies heavily on upfront planning and defining all requirements and design elements early.", "Documentation-Driven: Each phase produces extensive documentation that must be reviewed and approved.", "'Big Design Up Front' (BDUF): Significant effort is spent on detailed planning and design before any coding."],
        components: [
            "Phases: Requirements Gathering and Analysis, Design, Implementation (Coding), Testing, Deployment (Installation/Release), Maintenance.",
            "Artifacts/Tools: Software Requirements Specification (SRS) documents, Design documents (High-Level Design, Low-Level Design), Test plans and test cases, User manuals and deployment guides."
        ],
        howItWorks: ["Requirements are gathered and analyzed completely and documented.", "System and software design is performed based on the frozen requirements.", "Coding begins only after the design is fully approved.", "Testing is conducted only after all or most of the coding is complete.", "Deployment occurs once testing is successful.", "Maintenance continues as long as the software is in use."],
        advantages: ["Simple and Clarity: Easy to understand and manage, and track progress due to its linear nature.", "Clear Milestones: Well-defined phases with specific deliverables and sign-offs.", "Extensive Documentation: Provides thorough records, useful for compliance and future maintenance.", "Good for Stable Requirements: Suitable for projects where requirements are fixed and unlikely to change.", "Disciplined Approach: Enforces a structured process, which can be beneficial in highly regulated environments."],
        disadvantages: ["Inflexibility to Change: Extremely difficult and costly to incorporate changes once a phase is complete.", "Delayed Feedback: Customers see a working product only at the very end, increasing the risk of dissatisfaction.", "High Risk: Errors in early phases are discovered very late, leading to expensive rework.", "Long Cycle Times: Value is delivered only after the entire project is complete.", "Not Ideal for Complex Projects: Difficult to define all requirements perfectly upfront for large, complex systems."],
        implementationSteps: [
            "Requirements Gathering and Analysis: Collect and document all system requirements comprehensively and get formal sign-off from stakeholders.",
            "System Design: Based on the approved requirements, design the overall system architecture, database schema, user interfaces, and other technical specifications. Produce detailed design documents.",
            "Implementation (Coding): Code the software based on the detailed design specifications. This phase typically begins only after the design is fully approved.",
            "Testing: Conduct comprehensive testing of the completed software. This includes unit testing, integration testing, system testing, and acceptance testing to identify and fix defects.",
            "Deployment (Installation/Release): Once testing is successful and all defects are resolved, the software is installed and released to the production environment.",
            "Maintenance: Provide ongoing support, bug fixes, and minor enhancements to the software after it has been deployed and is in use."
        ],
        implementationRisks: [
            "Inaccurate/incomplete initial requirements: Risk: Building the wrong product, significant rework. Mitigation: Thorough upfront analysis, extensive stakeholder interviews, prototyping (if allowed) during requirements phase, formal sign-off.",
            "Resistance to change: Risk: Inability to adapt to market shifts or new insights. Mitigation: Clearly communicate the fixed nature of requirements; manage stakeholder expectations from the outset; implement change control processes.",
            "Late defect discovery: Risk: High cost of fixing bugs found late in the lifecycle. Mitigation: Rigorous reviews and inspections at each phase; comprehensive test planning and execution.",
            "Long feedback loops: Risk: Customer dissatisfaction due to seeing product only at the end. Mitigation: Regular status reporting; mock-ups/simulations during design; manage customer expectations about delivery cadence.",
            "Resource availability: Risk: Delays if resources are not available sequentially for each phase. Mitigation: Detailed resource planning; dedicated teams for each phase (if possible); clear handoff procedures."
        ],
        whenToUse: ["Projects with exceptionally stable and well-understood requirements.", "When comprehensive documentation is a strict mandate.", "For small, simple projects with predictable outcomes.", "In industries with very strict regulatory compliance and a low tolerance for change."],
        criteria: {
            reqStability: 10 * 2, // Scaled from 5 to 10
            projectScale: 5 * 2, // Scaled from 3 to 5
            flexibility: 1 * 2, // Scaled from 1 to 1
            riskMitigation: 2 * 2, // Scaled from 2 to 2
            upfrontPlanning: 10 * 2, // Scaled from 5 to 10
            customerInvolvement: 2 * 2, // Scaled from 1 to 2
            releaseFrequency: 1 * 2, // Scaled from 1 to 1
            qualityFocus: 7 * 2, // Scaled from 2 to 7
            speedFocus: 1 * 2, // Scaled from 1 to 1
            teamMaturityRequired: 3 * 2 // Scaled from 1 to 3
        }
    },
    "V-Model": {
        coreConcept: "The V-Model, also known as the **Verification and Validation Model**, is a sequential software development lifecycle (SDLC) model that emphasizes testing activities throughout the entire development process. It clearly links each development phase with a corresponding testing phase, forming a 'V' shape.",
        principles: ["Verification (Left Side): 'Are we building the product right?' Focuses on checking that each phase's output meets its specifications.", "Validation (Right Side): 'Are we building the right product?' Focuses on ensuring the product meets the actual user needs and expectations.", "Early Test Planning: Test plans for each level are created in parallel with the corresponding development phase.", "Traceability: Clear linkage between requirements, design elements, and test cases.", "Systematic and Disciplined: Each phase must be completed and signed off before the next."],
        components: [
            "Phases (Left Side - Verification / Development): Requirements Analysis (User/Business Requirements), System Design, Architectural Design (High-Level Design), Module Design (Low-Level Design / Component Design), Coding / Implementation.",
            "Phases (Right Side - Validation / Testing): Unit Testing, Integration Testing, System Testing, User Acceptance Testing (UAT)."
        ],
        howItWorks: ["Requirements are fully gathered and analyzed.", "Design phases proceed sequentially from high-level system design down to detailed module design.", "Coding is performed at the bottom of the V.", "Testing phases proceed upwards, mirroring the development phases (Unit, Integration, System, UAT). Test plans for each level are created during the corresponding development phase.", "Each phase must be completed and approved before moving to the next."],
        advantages: ["Clear Structure: Easy to understand and manage with well-defined phases and deliverables.", "Early Defect Detection: Planning tests early helps identify issues in requirements or design before coding, reducing rework costs.", "Enhanced Quality: Strong emphasis on verification and validation throughout the lifecycle.", "Improved Traceability: Clear links between requirements, design, and tests.", "Suitable for Critical Systems: Ideal for projects with high safety/reliability requirements."],
        disadvantages: ["Rigid and Inflexible: Struggles with changing requirements, as going back to previous phases is difficult and costly.", "Delayed Working Software: A complete system is only available very late in the cycle.", "High Risk of Misinterpretation: If initial requirements are flawed, the entire project can be misdirected.", "Documentation-Heavy: Requires extensive documentation at each stage."],
        implementationSteps: [
            "Requirements Analysis (Left Side): Define user and system requirements. In parallel, create the User Acceptance Test (UAT) plan and System Test plan.",
            "System Design (Left Side): Design the overall system architecture and high-level components. In parallel, create the Integration Test plan.",
            "Architectural Design (Left Side): Detail the system's architecture and component interactions. This also informs the Integration Test plan.",
            "Module Design (Left Side): Design individual software modules and components in detail. In parallel, create the Unit Test plan.",
            "Coding (Bottom of V): Implement the software modules based on the detailed module designs.",
            "Unit Testing (Right Side): Test individual software modules against their detailed designs and the Unit Test plan.",
            "Integration Testing (Right Side): Integrate the tested modules and test their interactions against the architectural design and Integration Test plan.",
            "System Testing (Right Side): Test the entire integrated system against the system requirements and the System Test plan.",
            "User Acceptance Testing (Right Side): End-users test the system against their original business requirements and the UAT plan to ensure it meets their needs."
        ],
        implementationRisks: [
            "Inflexibility to evolving requirements: Risk: Costly rework if requirements change after design. Mitigation: Ensure requirements are extremely stable upfront; use strict change control processes.",
            "Late discovery of architectural flaws: Risk: Major rework if design issues are found during integration. Mitigation: Thorough design reviews; use of architectural prototypes (if feasible) early in the design phase.",
            "Resource synchronization: Risk: Delays if development and testing teams are not synchronized. Mitigation: Clear handoff procedures; dedicated teams for each phase; strong project management.",
            "Documentation overhead: Risk: Time-consuming documentation, potential for outdated documents. Mitigation: Streamline documentation processes; use tools that generate documentation from code/tests where possible.",
            "Customer disengagement: Risk: Product not meeting actual needs due to limited ongoing involvement. Mitigation: Formalized review points with customers at each phase; clear communication of progress and expectations."
        ],
        whenToUse: ["Projects with exceptionally stable, clear, and well-defined requirements.", "When high quality and reliability are paramount (e.g., aerospace, medical devices).", "Where regulatory compliance and extensive documentation are mandatory.", "For small or medium-sized projects where the upfront planning is manageable."],
        criteria: {
            reqStability: 9 * 2, // Scaled from 5 to 9
            projectScale: 6 * 2, // Scaled from 3 to 6
            flexibility: 2 * 2, // Scaled from 1 to 2
            riskMitigation: 9 * 2, // Scaled from 4 to 9
            upfrontPlanning: 9 * 2, // Scaled from 5 to 9
            customerInvolvement: 3 * 2, // Scaled from 1 to 3
            releaseFrequency: 1 * 2, // Scaled from 1 to 1
            qualityFocus: 10 * 2, // Scaled from 5 to 10
            speedFocus: 2 * 2, // Scaled from 1 to 2
            teamMaturityRequired: 4 * 2 // Scaled from 2 to 4
        }
    },
    "LeSS": {
        coreConcept: "Large-Scale Scrum (LeSS) is a framework for scaling Scrum to multiple teams working together on a single product. It aims to apply the principles, elements, and purpose of Scrum in a large-scale context, emphasizing 'more with less' â€“ more learning, more value, more ownership with fewer roles, artifacts, and special groups.",
        principles: ["Large-Scale Scrum is Scrum: LeSS is not 'new and improved Scrum' but Scrum applied to multiple teams.", "Empirical Process Control: Empiricism, self-organization, continuous improvement.", "Transparency: Based on tangible 'done' items, short cycles, and common definitions.", "More with LeSS: Simplify the process with fewer roles, artifacts, and management overhead.", "Whole-Product Focus: One Product Backlog, one Product Owner, one potentially shippable product increment.", "Customer-Centric: Identify value and waste from the customer's perspective.", "Continuous Improvement Towards Perfection: Relentless pursuit of better products and processes.", "Systems Thinking: Optimize the whole system, not just individual parts.", "Lean Thinking: Eliminate waste and maximize value.", "Queuing Theory: Understand and manage queues to improve flow."],
        components: [
            "Configurations: Basic LeSS (for 2 to 8 Scrum Teams), LeSS Huge (for more than 8 Scrum Teams, introducing 'Requirement Areas' and 'Area Product Owners').",
            "Roles: One Product Owner (for the entire product), Multiple Scrum Teams, Scrum Masters (may serve 1-3 teams).",
            "Events (Ceremonies - Scaled): One Sprint (all teams work within a single, common Sprint), Sprint Planning Part 1 (Overall Planning), Sprint Planning Part 2 (Team Planning), Daily Scrum (each team holds its own), Overall Product Backlog Refinement (PBR), Sprint Review (Overall Review), Overall Retrospective, Team Retrospective.",
            "Artifacts/Tools: One Product Backlog (shared by all teams), One Product Increment (a single, integrated, potentially shippable product increment), Team Sprint Backlogs."
        ],
        howItWorks: ["The Product Owner manages a single Product Backlog for the entire product.", "All teams participate in a shared planning session to understand the overall Sprint Goal and select items.", "Each team then plans its specific tasks for the Sprint.", "All teams work in parallel during the single Sprint, holding their own Daily Scrums.", "Teams continuously integrate their work to form one integrated product increment.", "All teams and stakeholders review the integrated increment.", "The team and the overall group reflect on the Sprint and plan improvements."],
        advantages: ["Maintains Scrum's Simplicity: Aims to scale Scrum with minimal additional roles or processes, keeping it lean.", "Whole-Product Focus: Ensures all teams are aligned on delivering a single, cohesive product.", "Stronger Collaboration: Encourages direct communication and collaboration between teams.", "Decentralized Decision-Making: Empowers teams to self-organize and make decisions.", "Reduced Overhead: Fewer layers of management and coordination compared to some other scaling frameworks."],
        disadvantages: ["Requires Deep Scrum Understanding: Assumes a high level of Scrum maturity within the organization.", "Significant Organizational Change: Can require substantial restructuring of teams and management.", "Challenging for Very Large Scale: While LeSS Huge exists, coordinating thousands of people with minimal structure can still be complex.", "Less Prescriptive than SAFe: May not provide enough guidance for organizations needing more hand-holding during transformation."],
        implementationSteps: [
            "One Product Backlog: Establish a single, prioritized Product Backlog that represents all work for the entire product, managed by one Product Owner.",
            "Form Scrum Teams: Organize into multiple cross-functional, self-managing Scrum Teams, each capable of delivering end-to-end features.",
            "Sprint Planning Part 1 (Overall Planning): All teams and the Product Owner meet to agree on the overall Sprint Goal and select Product Backlog Items for the upcoming Sprint.",
            "Sprint Planning Part 2 (Team Planning): Each individual Scrum Team conducts its own detailed Sprint Planning, breaking down selected items into tasks and creating its Sprint Backlog.",
            "Daily Scrums: Each team holds its own Daily Scrum to synchronize and plan for the next 24 hours.",
            "Overall Product Backlog Refinement: Conduct regular Product Backlog Refinement sessions involving representatives from multiple teams to clarify and prepare upcoming Product Backlog Items.",
            "Continuous Integration: Teams continuously integrate their work throughout the Sprint, aiming for a single, integrated, potentially shippable product increment at the end of each Sprint.",
            "Sprint Review (Overall Review): All teams and relevant stakeholders participate in a single Sprint Review to inspect the integrated product increment and adapt the Product Backlog.",
            "Overall Retrospective: Representatives from all teams, along with the Product Owner and Scrum Masters, participate in an Overall Retrospective to identify systemic impediments and improve the multi-team process.",
            "Team Retrospectives: Each individual Scrum Team holds its own Retrospective to improve its internal processes and collaboration."
        ],
        implementationRisks: [
            "Maintaining a single Product Backlog at scale: Risk: Product Backlog becomes too large/complex for one PO. Mitigation: Strong Product Owner and Product Management team; effective backlog refinement; use of 'Requirement Areas' in LeSS Huge.",
            "Lack of true cross-team integration: Risk: Teams deliver siloed components, not an integrated product. Mitigation: Emphasize 'Definition of Done' across all teams; invest in continuous integration infrastructure; frequent system demos.",
            "Scrum Master overload: Risk: Scrum Masters serving too many teams, becoming ineffective. Mitigation: Limit SM to 1-3 teams; ensure SMs are dedicated and have time for coaching and impediment removal.",
            "Organizational resistance to decentralization: Risk: Management tries to over-control teams. Mitigation: Leadership education and sponsorship; empower teams to self-organize; demonstrate benefits of decentralized decision-making.",
            "Dependency management across teams: Risk: Blockages due to unmanaged dependencies. Mitigation: Proactive dependency identification in PI Planning; frequent cross-team communication (Scrum of Scrums); co-location or strong virtual collaboration tools."
        ],
        whenToUse: ["Organizations with 2 to 8 (Basic LeSS) or more than 8 (LeSS Huge) Scrum Teams working on a single, shared product.", "When the goal is to coordinate multiple Scrum teams working on related products.", "Organizations prioritizing decentralized decision-making at scale.", "When the focus is on removing organizational impediments for hyper-productivity."],
        criteria: {
            reqStability: 5 * 2, // Scaled from 3 to 5
            projectScale: 8 * 2, // Scaled from 4 to 8
            flexibility: 7 * 2, // Scaled from 4 to 7
            riskMitigation: 7 * 2, // Scaled from 4 to 7
            upfrontPlanning: 5 * 2, // Scaled from 3 to 5
            customerInvolvement: 8 * 2, // Scaled from 3 to 8
            releaseFrequency: 7 * 2, // Scaled from 3 to 7
            qualityFocus: 7 * 2, // Scaled from 3 to 7
            speedFocus: 7 * 2, // Scaled from 3 to 7
            teamMaturityRequired: 7 * 2 // Scaled from 3 to 7
        }
    },
    "Kanban with DevOps": {
        coreConcept: "This approach combines the continuous flow and visualization principles of Kanban with the cultural and technical practices of DevOps to create a highly efficient, automated, and continuous delivery pipeline. It focuses on optimizing the end-to-end value stream from idea to production and operation.",
        principles: ["Leverages Kanban's principles and integrates DevOps's 'CALMS' principles:", "Kanban Principles: Visualize work, Limit WIP, Manage Flow, Make Policies Explicit, Implement Feedback Loops, Improve Collaboratively.", "DevOps Principles (CALMS): Culture, Automation, Lean Flow, Measurement, Sharing."],
        components: [
            "Artifacts/Tools: Kanban Board (extended to represent the entire value stream), Continuous Integration (CI) Tools, Continuous Delivery (CD) / Continuous Deployment (CD) Pipelines, Infrastructure as Code (IaC) Tools, Monitoring and Logging Tools.",
            "Other Significant Concepts: Value Stream Mapping, Shift-Left Testing, Small Batch Sizes, Blameless Post-mortems, Site Reliability Engineering (SRE) Principles."
        ],
        howItWorks: ["The Kanban board extends beyond development to include testing, deployment, and operational stages, making the entire value stream transparent.", "WIP limits are applied across all stages to ensure a smooth flow.", "CI/CD pipelines automate builds, tests, and deployments.", "Systems are continuously monitored in production, and feedback is fed back to the development teams quickly.", "Teams use Kanban and DevOps metrics to identify areas for improvement.", "Development and Operations teams work closely together, sharing knowledge and responsibility."],
        advantages: ["Accelerated Delivery: Significantly faster time to market due to automation and optimized flow.", "Improved Quality and Stability: Continuous testing, monitoring, and feedback loops lead to more robust and reliable systems.", "Enhanced Collaboration: Breaks down silos between development, QA, and operations teams.", "Faster Feedback Loops: Issues in production are identified and addressed quickly.", "Increased Efficiency: Reduces manual effort, waste, and context switching.", "Customer Satisfaction: Delivers value to customers more frequently and reliably."],
        disadvantages: ["Significant Initial Investment: Requires investment in automation tools, infrastructure, and training.", "Cultural Resistance: Overcoming traditional 'Dev vs. Ops' mindsets can be challenging.", "Complexity: Implementing and managing a full DevOps pipeline can be complex.", "Requires Technical Expertise: Teams need strong skills in automation, infrastructure, and monitoring."],
        implementationSteps: [
            "Value Stream Mapping: Begin by mapping your entire value stream, from initial idea conception to delivery and operation, to identify all steps and handoffs.",
            "Kanban Board for End-to-End Flow: Create or extend your Kanban board to visually represent all stages of the identified value stream, including development, testing, deployment, and operations.",
            "Implement WIP Limits: Set and strictly enforce Work-in-Progress (WIP) limits across all stages of the value stream to ensure a smooth flow, prevent bottlenecks and pre-vent completion of work.",
            "Automate CI/CD Pipeline: Establish robust Continuous Integration (CI) and Continuous Delivery/Deployment (CD) pipelines to automate code integration, testing, and deployment processes.",
            "Infrastructure as Code (IaC): Implement Infrastructure as Code to manage and provision your infrastructure and configurations through code, ensuring consistency and repeatability.",
            "Implement Comprehensive Monitoring: Set up real-time monitoring and logging for all production systems and applications to quickly detect issues and gather performance insights.",
            "Foster DevOps Culture: Promote a culture of collaboration, shared responsibility, and blameless post-mortems between development, operations, and other relevant teams.",
            "Continuous Feedback & Improvement: Utilize monitoring data, feedback from operations, and regular retrospectives to drive continuous improvement of both the product and the delivery process."
        ],
        implementationRisks: [
            "High initial investment in tools and training: Risk: Budget constraints, slow adoption. Mitigation: Start small with a pilot project; prioritize automation efforts based on ROI; leverage open-source tools where appropriate.",
            "Cultural resistance between Dev and Ops: Risk: Silos persist, blame game. Mitigation: Leadership sponsorship; cross-functional training; shared metrics and goals; blameless post-mortems; team rotation.",
            "Complexity of pipeline setup and maintenance: Risk: Fragile automation, frequent failures. Mitigation: Start with a simple pipeline; iterate and improve incrementally; invest in skilled automation engineers; use modular, reusable components.",
            "Security vulnerabilities in automated pipelines: Risk: Exploitable weaknesses, data breaches. Mitigation: Integrate security practices ('Shift-Left Security') throughout the pipeline; regular security audits of automation scripts and infrastructure.",
            "Lack of continuous improvement mindset: Risk: Stagnation, inefficiencies persist. Mitigation: Regularly review metrics (e.g., lead time, deployment frequency); conduct frequent retrospectives focused on the entire value stream; celebrate improvements."
        ],
        whenToUse: ["Organizations aiming for high-frequency releases and continuous delivery.", "When there's a need to break down silos between Development and Operations.", "For products requiring high availability, scalability, and rapid response to issues.", "Teams that are mature in Kanban and ready to invest in automation and cultural change."],
        criteria: {
            reqStability: 9, // Can handle high volatility and continuous changes
            projectScale: 7, // Can scale well through automation
            flexibility: 10, // Very high adaptability
            riskMitigation: 8, // Good for mitigating risk through rapid feedback
            upfrontPlanning: 3, // Low
            customerInvolvement: 7, // Continuous, through monitoring and feedback
            releaseFrequency: 10, // Daily to weekly/continuous
            qualityFocus: 9, // High quality through automation and monitoring
            speedFocus: 10, // Very high speed
            teamMaturityRequired: 8 // High technical and cultural maturity
        }
    },
    "Lean Startup + XP": {
        coreConcept: "This approach combines the business validation and iterative learning of the Lean Startup methodology with the engineering excellence and agile practices of Extreme Programming (XP). The goal is to rapidly build and validate Minimum Viable Products (MVPs) while maintaining high code quality and technical agility.",
        principles: ["Combines principles from both methodologies:", "Lean Startup Principles: Build-Measure-Learn Feedback Loop, Validated Learning, Minimum Viable Product (MVP), Innovation Accounting, Pivot or Persevere.", "Extreme Programming (XP) Principles: Communication, Simplicity, Feedback, Courage, Respect."],
        components: [
            "Lean Startup Components: Hypothesis-Driven Development, MVP Development, Customer Discovery/Validation, A/B Testing/Experiments.",
            "Extreme Programming (XP) Components: Pair Programming, Test-Driven Development (TDD), Continuous Integration (CI), Refactoring, Simple Design, Collective Code Ownership, Small Releases, On-site Customer."
        ],
        howItWorks: ["Formulate clear hypotheses about customer needs and solutions.", "Design the Minimum Viable Product (MVP) with simplest features to test hypotheses.", "Develop the MVP using XP practices (Pair Programming, TDD, CI, Refactoring, Simple Design).", "Deploy the MVP to early adopters and collect data on usage and feedback.", "Analyze data and feedback to validate or invalidate hypotheses.", "Decide whether to pivot or persevere based on validated learning.", "Continuously iterate through the Build-Measure-Learn loop."],
        advantages: ["Reduced Market Risk: Focuses on validating customer needs early.", "High Technical Quality: XP practices ensure a robust and maintainable codebase.", "Faster Learning Cycles: Rapid MVP development and direct customer feedback accelerate learning.", "Adaptability: Highly responsive to market changes and customer feedback.", "Strong Team Collaboration: XP practices foster intense collaboration and knowledge sharing."],
        disadvantages: ["Requires High Discipline: Both Lean Startup and XP demand significant discipline.", "Intense for Developers: Practices like pair programming and TDD can be demanding.", "Customer Availability: Requires consistent and active involvement from an 'on-site customer' or proxy.", "Scalability Challenges: Scaling this combined approach across a very large organization can be complex.", "Documentation Can Be Light: XP emphasizes working code over extensive documentation."],
        implementationSteps: [
            "Formulate Hypotheses: Clearly define the business and product hypotheses you want to test (e.g., 'We believe [this feature] will achieve [this outcome] for [these users]').",
            "Design MVP: Identify the Minimum Viable Product (MVP) features â€“ the smallest set of features needed to test your core hypotheses.",
            "XP Practices (Build): Develop the MVP using Extreme Programming (XP) engineering practices: Pair Programming, Test-Driven Development (TDD), Simple Design, Continuous Integration, and Refactoring.",
            "Customer Discovery/Validation (Measure): Deploy the MVP to early adopters or a target segment and actively collect data on usage, behavior, and direct feedback through interviews or analytics.",
            "Analyze & Learn: Analyze the collected data and feedback to validate or invalidate your initial hypotheses. What did you learn about your users and your solution?",
            "Pivot or Persevere (Learn): Based on the validated learning, decide whether to 'pivot' (change a fundamental assumption or strategy) or 'persevere' (continue with the current direction, iterating on the product).",
            "Iterate: Continuously repeat the Build-Measure-Learn loop, refining the product based on new insights and hypotheses."
        ],
        implementationRisks: [
            "Failure to define clear hypotheses: Risk: Building features without clear learning goals. Mitigation: Invest time in hypothesis formulation; use Hypothesis-Driven Development templates.",
            "Building too much into the MVP: Risk: Delayed learning, wasted effort. Mitigation: Ruthless prioritization of 'minimum' features; focus on the riskiest assumptions first.",
            "Insufficient customer access/feedback: Risk: Invalidated learning, building in a vacuum. Mitigation: Dedicate resources for customer interviews; use analytics; ensure 'on-site customer' availability.",
            "Team burnout from intense XP practices: Risk: Reduced productivity, high turnover. Mitigation: Ensure sustainable pace; rotate pair programming partners; encourage breaks and work-life balance.",
            "Resistance to refactoring/technical debt accumulation: Risk: Codebase becomes unmanageable, slows down innovation. Mitigation: Prioritize refactoring and quality tasks in the Sprint Backlog; enforce XP practices like TDD and CI."
        ],
        whenToUse: ["Startups or new product initiatives operating under high uncertainty about market fit.", "When the primary goal is to validate business ideas and customer needs rapidly.", "Teams that prioritize high code quality and technical agility alongside business validation.", "Environments where direct and continuous customer feedback is readily available.", "For projects where rapid iteration and experimentation are key to success."],
        criteria: {
            reqStability: 7 * 2, // Scaled from 4 to 7
            projectScale: 2 * 2, // Scaled from 1 to 2
            flexibility: 10 * 2, // Scaled from 5 to 10
            riskMitigation: 9 * 2, // Scaled from 5 to 9
            upfrontPlanning: 2 * 2, // Scaled from 1 to 2
            customerInvolvement: 10 * 2, // Scaled from 5 to 10
            releaseFrequency: 9 * 2, // Scaled from 4 to 9
            qualityFocus: 9 * 2, // Scaled from 4 to 9
            speedFocus: 9 * 2, // Scaled from 4 to 9
            teamMaturityRequired: 9 * 2 // Scaled from 5 to 9
        }
    },
    "Spiral Model": {
        coreConcept: "The Spiral Model is an evolutionary software development process model that combines elements of the Waterfall model with iterative prototyping, emphasizing **risk management** at each stage. It's represented as a spiral, with each loop or 'spiral' representing a phase of the development process.",
        principles: ["Risk-Driven: The primary guiding principle; risk assessment and mitigation are central to each iteration.", "Iterative and Evolutionary: Development occurs in cycles, with increments built and refined over time.", "Customer Involvement: Customers are involved in each iteration to provide feedback.", "Phased Approach with Iteration: Combines the systematic approach of Waterfall with the flexibility of iterative models."],
        components: [
            "Four Quadrants/Phases per Spiral: Objective Setting, Risk Analysis and Evaluation, Development and Validation (Engineering), Planning the Next Iteration (Planning).",
            "Prototypes: Used at various stages to mitigate risks and gather early feedback.",
            "Cycles/Spirals: Each loop represents a complete set of the four quadrants, leading to a more refined product."
        ],
        howItWorks: ["Define overall project objectives and identify major risks.", "First Spiral: Define objectives for a small, initial part of the system (e.g., a proof-of-concept), analyze risks, build a prototype or small increment, evaluate results and plan the next spiral.", "Subsequent Spirals: Each subsequent spiral builds upon the previous one, addressing new risks, adding more functionality, and refining the product.", "Termination: The process continues until all risks are mitigated, and the final product is delivered."],
        advantages: ["Early Risk Mitigation: Allows for early identification and resolution of high-risk elements.", "Flexibility and Adaptability: Accommodates changes in requirements and design.", "Good for Large, Complex Projects: Well-suited for projects with high uncertainty and evolving requirements.", "Customer Involvement: Continuous customer feedback ensures the product meets evolving needs.", "Incremental Development: Delivers working increments, allowing for early value delivery and learning."],
        disadvantages: ["Complex to Manage: Iterative nature and constant risk assessment can make it more complex.", "High Cost: Extensive risk analysis and multiple iterations can be more expensive.", "Requires Expertise: Demands significant expertise in risk assessment and management.", "Not Suitable for Small Projects: Overhead can be too much for small, low-risk projects.", "End Date Uncertainty: Project duration can be difficult to estimate."],
        implementationSteps: [
            "Objective Setting & Risk Identification: For each spiral (iteration), define the objectives for that segment of the project and identify all potential risks associated with achieving those objectives.",
            "Risk Analysis & Evaluation: Analyze the identified risks in detail, assess their likelihood and impact, and develop strategies to mitigate or resolve them. This is the most critical phase of the Spiral Model.",
            "Development & Validation (Engineering): Based on the risk analysis, proceed with development activities. This can involve prototyping, design, coding, and testing, depending on the risks being addressed and the stage of the project. The goal is to build a working increment or prototype.",
            "Planning Next Iteration: Evaluate the results of the current spiral, including the success of risk mitigation strategies. Based on this evaluation, plan the objectives and activities for the next spiral, deciding whether to continue with further development, refine existing features, or terminate the project.",
            "Customer Evaluation: Involve customers and key stakeholders in evaluating each increment or prototype developed during a spiral, gathering their feedback to inform subsequent iterations.",
            "Repeat: Continue through successive spirals, with each loop building upon the previous one, progressively adding functionality and addressing risks until the final product is complete and all major risks are mitigated."
        ],
        implementationRisks: [
            "Over-emphasis on risk analysis: Risk: Project becomes bogged down in analysis paralysis. Mitigation: Balance risk analysis with practical development; time-box risk activities; prioritize the most critical risks.",
            "Difficulty in estimating project duration/cost: Risk: Budget overruns, missed deadlines. Mitigation: Use historical data; break down large risks into smaller, manageable ones; provide ranges for estimates rather than fixed numbers.",
            "Requires highly skilled risk managers: Risk: Ineffective risk mitigation, project failure. Mitigation: Invest in training for risk management; bring in experienced consultants; establish a dedicated risk management function.",
            "Complexity of managing multiple iterations: Risk: Loss of control, confusion. Mitigation: Strong project management and configuration management; clear documentation of each spiral's objectives and outcomes.",
            "Scope creep across spirals: Risk: Uncontrolled feature growth. Mitigation: Clear objective setting for each spiral; strict change control for features within a spiral; regular customer reviews to re-align scope."
        ],
        whenToUse: ["Large, complex, and high-risk projects with unclear or evolving requirements.", "When frequent changes or new functionalities are anticipated.", "For projects where risk assessment and mitigation are critical (e.g., new product development, research projects).", "When customer involvement and feedback are essential throughout the lifecycle."],
        criteria: {
            reqStability: 6 * 2, // Scaled from 3 to 6
            projectScale: 8 * 2, // Scaled from 4 to 8
            flexibility: 7 * 2, // Scaled from 3 to 7
            riskMitigation: 10 * 2, // Scaled from 5 to 10
            upfrontPlanning: 6 * 2, // Scaled from 4 to 6
            customerInvolvement: 8 * 2, // Scaled from 3 to 8
            releaseFrequency: 4 * 2, // Scaled from 2 to 4
            qualityFocus: 8 * 2, // Scaled from 4 to 8
            speedFocus: 5 * 2, // Scaled from 2 to 5
            teamMaturityRequired: 7 * 2 // Scaled from 3 to 7
        }
    },
    "Scrum@Scale": {
        coreConcept: "Scrum@Scale is a framework for scaling Scrum across an organization, focusing on creating a 'minimally viable bureaucracy' to achieve 'hyper-productive' organizations. It extends the Scrum framework by defining a scalable architecture of Scrum teams and their interactions, rather than introducing entirely new processes.",
        principles: ["Scrum@Scale is rooted in Scrum's values and Lean principles, emphasizing:", "Scrum Principles: Empiricism, self-organization, continuous improvement.", "Minimum Viable Bureaucracy: Only introduce the necessary processes and roles to scale.", "Scaling Scrum, Not Adding To It: Aims to preserve the integrity of Scrum at the team level.", "Self-Organization at Scale: Empowering teams and teams-of-teams to manage their work.", "Transparency and Flow: Ensuring visibility and smooth flow of work across the organization."],
        components: [
            "Scrum Master Cycle (The 'How'): Scrum of Scrums (SoS), Scrum of Scrums of Scrums (SoSoS) (for larger organizations), Chief Scrum Master, Executive Action Team (EAT).",
            "Product Owner Cycle (The 'What'): MetaScrum, Chief Product Owner, Executive MetaScrum (for larger organizations).",
            "Scaling Patterns: Specific guidance on how to apply Scrum elements across multiple teams."
        ],
        howItWorks: ["Individual Scrum Teams operate as usual.", "Scrum Master Cycle: Scrum Masters from multiple teams meet daily in a Scrum of Scrums to synchronize and address impediments. Impediments are escalated to the Chief Scrum Master or Executive Action Team (EAT).", "Product Owner Cycle: Product Owners meet in a MetaScrum to synchronize backlogs and prioritize work. Strategic prioritization is managed by the Chief Product Owner and Executive MetaScrum.", "Continuous Improvement: Both cycles feed into continuous improvement efforts, with the EAT focusing on systemic organizational impediments.", "Release: Integrated increments from multiple teams are released based on business value."],
        advantages: ["Preserves Scrum's Core: Aims to keep Scrum lightweight and team-centric.", "Flexible and Adaptable: Allows organizations to tailor the scaling approach.", "Focus on Impediment Removal: Explicitly addresses organizational impediments.", "Empowers Teams: Maintains the self-organizing nature of Scrum teams.", "Scalable from Small to Very Large: Can be applied to a wide range of organizational sizes."],
        disadvantages: ["Requires Strong Scrum Maturity: Assumes teams and leaders have a solid understanding of basic Scrum.", "Less Prescriptive for New Adopters: May not provide enough detailed guidance.", "Can Become Complex: Coordinating many teams can still be challenging.", "Less Guidance on Portfolio Management: Less comprehensive in portfolio management than SAFe."],
        implementationSteps: [
            "Form Scrum Teams: Ensure individual Scrum Teams are formed and functioning effectively, adhering to core Scrum principles and practices.",
            "Implement Scrum of Scrums (SoS): Establish a daily Scrum of Scrums meeting where Scrum Masters from multiple teams synchronize their efforts, discuss dependencies, and address impediments that cross team boundaries. Impediments are escalated to the Chief Scrum Master or Executive Action Team (EAT) as needed.",
            "Implement MetaScrum: Establish a MetaScrum meeting where Product Owners from multiple teams synchronize their Product Backlogs, prioritize work across teams, and ensure alignment with the overall product vision. Strategic prioritization is managed by the Chief Product Owner and Executive MetaScrum for larger organizations.",
            "Define Chief Roles: Appoint Chief Scrum Master(s) to facilitate the Scrum of Scrums and remove systemic impediments, and Chief Product Owner(s) to manage the overall Product Backlog and product vision across multiple teams.",
            "Executive Action Team (EAT): Form an Executive Action Team (comprising senior leaders) responsible for removing organizational impediments that are beyond the scope of the Chief Scrum Master, ensuring the organization supports the scaled Agile environment.",
            "Continuous Integration at Scale: Implement practices and tools that enable continuous integration of work from all participating teams into a single, integrated, and potentially shippable product increment.",
            "Scaled Reviews & Retrospectives: Conduct overall Sprint Reviews and Retrospectives that involve all relevant teams and stakeholders, fostering transparency and collective learning at scale.",
            "Scale Incrementally: Begin with a smaller scale and gradually expand the application of Scrum@Scale across more teams and parts of the organization as maturity and success grow."
        ],
        implementationRisks: [
            "Insufficient Scrum maturity at team level: Risk: Scaling dysfunction, not agility. Mitigation: Ensure teams are proficient in basic Scrum before scaling; provide extensive coaching and training.",
            "Lack of dedicated Chief Product Owner/Scrum Master: Risk: Poor alignment, unaddressed impediments. Mitigation: Appoint dedicated, empowered chief roles; ensure they have the necessary authority and time.",
            "Organizational impediments not removed by EAT: Risk: Systemic issues block flow, frustration. Mitigation: EAT must be truly empowered and active in removing organizational blockers; clear escalation paths.",
            "Maintaining a single, coherent Product Backlog: Risk: Fragmented product vision, conflicting priorities. Mitigation: Strong Product Owner collaboration; regular MetaScrum meetings; clear product roadmap.",
            "Technical debt and integration issues at scale: Risk: Slowdown, instability due to unmanaged dependencies. Mitigation: Emphasize 'Definition of Done' across all teams; invest in continuous integration infrastructure; promote shared technical practices."
        ],
        whenToUse: ["Organizations already mature in Scrum practice.", "When the goal is to coordinate multiple Scrum teams working on related products.", "Organizations prioritizing decentralized decision-making at scale.", "When the focus is on removing organizational impediments for hyper-productivity."],
        criteria: {
            reqStability: 5 * 2, // Scaled from 3 to 5
            projectScale: 9 * 2, // Scaled from 5 to 9
            flexibility: 8 * 2, // Scaled from 4 to 8
            riskMitigation: 7 * 2, // Scaled from 4 to 7
            upfrontPlanning: 4 * 2, // Scaled from 2 to 4
            customerInvolvement: 9 * 2, // Scaled from 4 to 9
            releaseFrequency: 7 * 2, // Scaled from 3 to 7
            qualityFocus: 7 * 2, // Scaled from 3 to 7
            speedFocus: 7 * 2, // Scaled from 3 to 7
            teamMaturityRequired: 8 * 2 // Scaled from 4 to 8
        }
    },
    "Disciplined Agile (DA)": {
        coreConcept: "Disciplined Agile (DA) is a hybrid, goal-driven, and context-sensitive toolkit that guides organizations in choosing and tailoring their 'Way of Working' (WoW). It provides a comprehensive set of process goals, options, and strategies, drawing from various agile, lean, and traditional approaches, to optimize value delivery in unique contexts.",
        principles: ["DA is built on a set of guiding principles:", "People First: Prioritize people and their interactions.", "Learning Oriented: Embrace continuous learning and improvement.", "Enterprise Aware: Consider the broader organizational context and existing assets.", "Choice is Good: Empower teams to choose their WoW, as context matters.", "Context Counts: Recognize that no single framework fits all situations.", "Pragmatism: Focus on what works in practice, not just theory.", "Continuous Improvement: Always look for ways to get better.", "Flow: Optimize the flow of value through the entire lifecycle."],
        components: [
            "Four Lifecycles: Agile (Scrum-based), Lean (Kanban-based), Continuous Delivery: Agile, Continuous Delivery: Lean, Exploratory.",
            "Process Goals: Defines a comprehensive set of 'process goals' (e.g., 'Secure Funding', 'Form Initial Team', 'Explore Scope', 'Deliver Value').",
            "Decision Points/Options: For each process goal, DA provides a rich set of options, practices, and strategies.",
            "Roles: Defines a set of roles that can be mapped to existing organizational structures (e.g., Team Lead, Product Owner, Architecture Owner, Team Member, Stakeholder).",
            "Governance and Scaling: Addresses scaling across teams, programs, and portfolios."
        ],
        howItWorks: ["A team selects the lifecycle that best suits their current project's nature and context.", "For each phase or process goal within their chosen lifecycle, the team uses DA's guidance to make explicit decisions about how they will work, selecting practices from the DA toolkit.", "Teams regularly reflect on their WoW and continuously refine it based on feedback and new learnings.", "Teams are encouraged to be aware of and integrate with the broader organizational context."],
        advantages: ["Highly Flexible and Customizable: Allows organizations to create a bespoke agile approach.", "Context-Sensitive: Recognizes that 'one size does not fit all'.", "Comprehensive Toolkit: Integrates practices from various methodologies.", "Addresses Enterprise Concerns: Provides guidance for scaling, governance, and portfolio management.", "Pragmatic: Focuses on practical solutions.", "Learning-Oriented: Promotes continuous learning and improvement of the WoW itself."],
        disadvantages: ["Can Be Overwhelming: The vastness of options can be daunting for new agile adopters.", "Requires Expertise: Effectively tailoring a WoW requires experienced agile practitioners.", "Less Prescriptive: May not provide enough 'hand-holding' for organizations seeking a rigid framework.", "Potential for Inconsistency: Without strong guidance, different teams might adopt vastly different WoWs."],
        implementationSteps: [
            "Choose Your WoW (Way of Working): Select the most appropriate lifecycle (e.g., Agile/Scrum-based, Lean/Kanban-based, Continuous Delivery, Exploratory) that best suits the current project's nature, team composition, and organizational context.",
            "Identify Process Goals: Understand the specific 'process goals' relevant to the current phase or situation (e.g., 'Explore Scope', 'Form Initial Team', 'Deliver Value', 'Improve Team Process'). DA provides a comprehensive set of these goals.",
            "Tailor Practices: For each identified process goal, use the DA toolkit to choose and apply appropriate practices, techniques, and strategies. This involves making explicit decisions about how the team will work, leveraging a wide range of options from various agile, lean, and traditional approaches.",
            "Form Teams: Organize into disciplined agile teams, defining roles and responsibilities as needed, which can be mapped to existing organizational structures.",
            "Iterate & Deliver: Execute work in an iterative and incremental manner, consistently delivering value to stakeholders and end-users.",
            "Continuous Improvement: Regularly reflect on the adopted Way of Working (WoW) through retrospectives and other feedback mechanisms, and make continuous improvements based on new learnings and evolving context.",
            "Leverage Enterprise Assets: Ensure the team's WoW integrates effectively with existing organizational assets, governance structures, and strategic objectives, promoting enterprise awareness."
        ],
        implementationRisks: [
            "Analysis paralysis due to too many options: Risk: Teams struggle to choose a WoW. Mitigation: Provide clear guidance on initial WoW selection; start with a simpler lifecycle and evolve; leverage experienced DA coaches.",
            "Lack of expertise in tailoring: Risk: Sub-optimal WoW, ineffective practices. Mitigation: Invest in DA training and certification; use experienced DA coaches; encourage continuous learning and experimentation.",
            "Inconsistency across teams/departments: Risk: Silos, integration issues, lack of standardization. Mitigation: Establish a 'Center of Excellence' for DA; promote shared guidelines for common practices; encourage cross-team collaboration.",
            "Resistance to continuous improvement of WoW: Risk: Stagnation, teams stick to initial choices. Mitigation: Embed regular retrospectives for WoW refinement; leadership models and encourages encourages experimentation; celebrate successful WoW adaptations.",
            "Insufficient enterprise awareness: Risk: Teams optimize locally, ignore broader organizational context. Mitigation: Promote systems thinking; ensure teams understand value streams; integrate with enterprise-level governance and portfolio management."
        ],
        whenToUse: ["Organizations wanting to tailor their agile approach precisely to their unique context.", "When there are diverse teams or projects within an organization.", "Mature agile organizations with expertise to make informed process choices.", "When a comprehensive toolkit is preferred over a single framework.", "For organizations looking to integrate agile practices with existing enterprise-level governance and processes."],
        criteria: {
            reqStability: 7 * 2, // Scaled from 3 to 7
            projectScale: 9 * 2, // Scaled from 5 to 9
            flexibility: 9 * 2, // Scaled from 5 to 9
            riskMitigation: 8 * 2, // Scaled from 4 to 8
            upfrontPlanning: 5 * 2, // Scaled from 3 to 5
            customerInvolvement: 8 * 2, // Scaled from 4 to 8
            releaseFrequency: 6 * 2, // Scaled from 3 to 6
            qualityFocus: 8 * 2, // Scaled from 4 to 8
            speedFocus: 7 * 2, // Scaled from 3 to 7
            teamMaturityRequired: 9 * 2 // Scaled from 5 to 9
        }
    },
    "Scrumban": {
        coreConcept: "Scrumban is a hybrid agile methodology that combines the time-boxed, iterative structure and roles of Scrum with the continuous flow, visualization, and work-in-progress (WIP) limits of Kanban. It often serves as a transition step for teams moving from Scrum to Kanban, or as a way to blend the best aspects of both for specific contexts.",
        principles: ["Scrumban blends principles from both Scrum and Kanban:", "Iterative Development: From Scrum, often retaining Sprints for planning and review cadences.", "Continuous Flow: From Kanban, managing work as it moves through a board.", "Visualization: Using a Kanban board to make work visible.", "Limit Work-in-Progress (WIP): From Kanban, to optimize flow and prevent bottlenecks.", "Continuous Improvement: From both, through regular retrospectives and flow analysis.", "Adaptability: Responding to change through flexible prioritization and flow management."],
        components: [
            "Time-boxed Iterations (Sprints): Often retains fixed-length Sprints.",
            "Kanban Board: The primary tool for visualizing and managing work.",
            "Work-in-Progress (WIP) Limits: Applied to columns on the Kanban board.",
            "Daily Stand-ups: Similar to Scrum's Daily Scrum.",
            "Product Backlog: A prioritized list of features/items.",
            "Pull System: Work items are 'pulled' into the next stage.",
            "Roles: Often retains Scrum roles (Product Owner, Scrum Master, Development Team).",
            "Retrospectives: Regular meetings to discuss process improvements."
        ],
        howItWorks: ["Teams may still hold a Sprint Planning session to select a batch of work.", "Work items are placed on a Kanban board, pulling new tasks as capacity opens.", "Teams hold short daily meetings to discuss progress and impediments.", "Work flows continuously through the board, focusing on completing tasks.", "At the end of the iteration, the team may demonstrate completed work.", "The team holds a retrospective to identify improvements.", "The Product Owner can re-prioritize the backlog at any time."],
        advantages: ["Combines Best of Both: Leverages the structure of Scrum with the flexibility of Kanban.", "Improved Flow within Iterations: WIP limits help teams focus and complete tasks faster.", "Flexibility in Prioritization: Allows for changes in priorities without stopping a Sprint.", "Good for Transition: Can be a natural stepping stone for Scrum teams to Kanban.", "Reduced Context Switching: WIP limits encourage focus on fewer tasks."],
        disadvantages: ["Can Inherit Weaknesses: May combine disadvantages of both Scrum and Kanban.", "Less Defined: Being a hybrid, it's less prescriptive.", "Potential for Confusion: If not clearly understood, the blend of practices can lead to ambiguity."],
        implementationSteps: [
            "Start with Existing Workflow: Begin by either having an existing Scrum setup or a basic workflow. Scrumban is often a transition from Scrum to Kanban or a blend.",
            "Visualize Work on Kanban Board: Create a Kanban board that visually represents all stages of your workflow. This board will be the central hub for tracking work.",
            "Implement WIP Limits: Set and enforce Work-in-Progress (WIP) limits for each column on the Kanban board. This helps to optimize flow and prevent teams from becoming overwhelmed.",
            "Maintain Iterative Cadence (Optional): If transitioning from Scrum, you can choose to retain time-boxed iterations (Sprints) for planning and review cadences, or move to a purely continuous flow.",
            "Daily Stand-ups: Conduct daily stand-up meetings (similar to Scrum's Daily Scrum) to synchronize team members, discuss progress, and identify any impediments.",
            "Pull System: Implement a pull system where work items are 'pulled' into the next stage only when there is available capacity, rather than being 'pushed'.",
            "Regular Retrospectives: Hold frequent retrospectives to discuss what went well, what could be improved, and to implement small, continuous process improvements.",
            "Continuous Flow Focus: While retaining some Scrum elements, the primary focus should shift towards optimizing the continuous flow of work and delivering value as soon as it's ready, rather than strictly adhering to Sprint commitments."
        ],
        implementationRisks: [
            "Hybrid confusion/lack of clarity: Risk: Teams don't fully understand which practices to follow. Mitigation: Clearly define the adopted Scrumban rules; provide training and coaching; regularly review and refine the WoW.",
            "WIP limits ignored or set too high: Risk: Bottlenecks, loss of flow benefits. Mitigation: Coach teams on the purpose of WIP limits; make WIP violations highly visible; empower teams to enforce limits.",
            "Loss of Scrum's time-boxed benefits: Risk: Lack of urgency, unfocused iterations. Mitigation: If using Sprints, ensure a clear Sprint Goal; maintain regular review and retrospective cadences.",
            "Product Owner/Scrum Master role ambiguity: Risk: Unclear responsibilities, gaps in leadership. Mitigation: Clearly define how traditional Scrum roles adapt to the Scrumban context; ensure strong collaboration between PO and SM.",
            "Insufficient focus on continuous improvement: Risk: Stagnation, failure to optimize flow. Mitigation: Emphasize regular retrospectives; use flow metrics (e.g., Cycle Time) to identify improvement areas; encourage experimentation."
        ],
        whenToUse: ["Scrum teams that want to improve their flow, reduce bottlenecks, and limit work-in-progress.", "Teams that are transitioning from Scrum to a more continuous flow model.", "Projects where there's a need for both iterative planning and continuous delivery.", "When requirements are somewhat stable but occasional reprioritization is necessary."],
        criteria: {
            reqStability: 6 * 2, // Scaled from 3 to 6
            projectScale: 4 * 2, // Scaled from 2 to 4
            flexibility: 8 * 2, // Scaled from 4 to 8
            riskMitigation: 7 * 2, // Scaled from 4 to 7
            upfrontPlanning: 3 * 2, // Scaled from 1 to 3
            customerInvolvement: 8 * 2, // Scaled from 4 to 8
            releaseFrequency: 8 * 2, // Scaled from 4 to 8
            qualityFocus: 7 * 2, // Scaled from 3 to 7
            speedFocus: 8 * 2, // Scaled from 4 to 8
            teamMaturityRequired: 6 * 2 // Scaled from 3 to 6
        }
    },
    "Design Sprints": {
        coreConcept: "A Design Sprint is a five-day (or shorter) intensive workshop methodology for answering critical business questions through design, rapid prototyping, and testing ideas with real users. It's a structured, time-constrained approach to rapidly solve big challenges, test new ideas, and validate assumptions.",
        principles: ["Rapid Prototyping: Quickly build realistic mockups or interactive prototypes to test ideas.", "User Testing: Get direct feedback from real target users.", "Focused Problem-Solving: Concentrate on a single, critical challenge.", "Structured Ideation: Use specific exercises to generate creative solutions.", "Cross-Functional Collaboration: Bring together diverse expertise to tackle the problem.", "Learn Fast, Fail Fast: Quickly validate or invalidate ideas before significant investment."],
        components: [
            "Sprint Team: A small, cross-functional team (typically 5-7 people) including: Facilitator, Decider, Designer, Product Manager/Owner, Tech Lead/Engineer, Domain Expert.",
            "'War Room': A dedicated physical space for the sprint.",
            "Five Phases (typically one per day): Day 1: Map, Day 2: Sketch, Day 3: Decide, Day 4: Prototype, Day 5: Test."
        ],
        howItWorks: ["Clearly define the big problem or question to be solved.", "Day 1 (Map): The team maps out the user journey and identifies a specific target area.", "Day 2 (Sketch): Each team member individually sketches detailed solutions.", "Day 3 (Decide): Solutions are reviewed, the Decider chooses the best, and the team storyboards the prototype.", "Day 4 (Prototype): The team rapidly builds a realistic (but fake) prototype.", "Day 5 (Test): The prototype is tested with 5 real target users in one-on-one interviews.", "Synthesize Learning: Analyze test results to determine if the hypothesis was validated, invalidated, or if a pivot is needed."],
        advantages: ["Fast Validation: Quickly tests and validates (or invalidates) ideas.", "Reduced Risk: Helps avoid building the wrong product or feature.", "Accelerated Learning: Generates significant insights in just five days.", "Strong Alignment: Brings diverse stakeholders together.", "Tangible Output: Produces a concrete prototype and user feedback.", "Breaks Through Stalemate: Can unblock projects stuck in endless debate."],
        disadvantages: ["Intense and Demanding: Requires full-time commitment and high energy.", "Not for Development: A Design Sprint is for validating ideas, not building production-ready software.", "Difficult to Schedule: Getting a cross-functional team and target users together can be challenging.", "Requires Skilled Facilitation: A good facilitator is crucial.", "Limited Scope: Focuses on a single, well-defined problem."],
        implementationSteps: [
            "Define Challenge: Clearly articulate the critical business question or problem that the Design Sprint aims to solve. This becomes the sprint's focus.",
            "Assemble Sprint Team: Gather a small, cross-functional team (typically 5-7 people) including a Facilitator, a Decider (the ultimate decision-maker), a Designer, a Product Manager/Owner, a Tech Lead/Engineer, and a Domain Expert.",
            "Day 1: Map: On the first day, the team works to understand the problem space, map the user journey, identify key pain points, and ultimately choose a specific, focused target area for the sprint.",
            "Day 2: Sketch: On the second day, each team member individually sketches detailed solutions to the chosen target problem. The focus is on quantity and diversity of ideas.",
            "Day 3: Decide: On the third day, the team reviews all sketches. The Decider makes the final decision on which solution(s) to prototype, and the team then storyboards the chosen prototype, outlining the user flow.",
            "Day 4: Prototype: On the fourth day, the team rapidly builds a realistic (but often 'fake' or simplified) prototype of the chosen solution. The goal is to make it look and feel real enough for user testing.",
            "Day 5: Test: On the final day, the prototype is tested with 5 real target users in one-on-one interviews. The team observes user interactions and gathers qualitative feedback.",
            "Synthesize Learnings: After the sprint, the team synthesizes the insights from user testing to determine if the initial hypothesis was validated, invalidated, or if a 'pivot' (a significant change in direction) is needed for the product or feature."
        ],
        implementationRisks: [
            "Difficulty securing dedicated team availability: Risk: Sprint interrupted, incomplete results. Mitigation: Get strong leadership buy-in; schedule well in advance; emphasize the short, intense nature and high ROI.",
            "Lack of a clear, focused challenge: Risk: Sprint becomes unfocused, generates irrelevant solutions. Mitigation: Spend time upfront defining the challenge; use pre-sprint activities to narrow the scope.",
            "Unrealistic prototype expectations: Risk: Team tries to build too much, runs out of time. Mitigation: Emphasize 'fake it till you make it'; focus on testing the riskiest assumptions, not building a full product.",
            "Bias in user testing: Risk: Misleading feedback. Mitigation: Recruit diverse, representative users; use neutral facilitation; avoid leading questions.",
            "Failure to act on sprint learnings: Risk: Sprint becomes a one-off event, no real impact. Mitigation: Plan for post-sprint actions; integrate learnings into product roadmap; communicate results widely."
        ],
        whenToUse: ["To validate new product ideas or features quickly.", "To solve specific, critical design or business challenges.", "To kickstart a new project with high uncertainty.", "When there's a need to align a cross-functional team.", "To break through decision paralysis or overcome a project stalemate."],
        criteria: {
            reqStability: 1 * 2, // Scaled from 1 to 1
            projectScale: 1 * 2, // Scaled from 1 to 1
            flexibility: 10 * 2, // Scaled from 5 to 10
            riskMitigation: 9 * 2, // Scaled from 5 to 9
            upfrontPlanning: 1 * 2, // Scaled from 1 to 1
            customerInvolvement: 10 * 2, // Scaled from 5 to 10
            releaseFrequency: 9 * 2, // Scaled from 4 to 9
            qualityFocus: 8 * 2, // Scaled from 4 to 8
            speedFocus: 10 * 2, // Scaled from 5 to 10
            teamMaturityRequired: 7 * 2 // Scaled from 3 to 7
        }
    },
    "Extreme Programming (XP)": {
        coreConcept: "Extreme Programming (XP) is an Agile software development methodology that emphasizes engineering excellence and delivering high-quality software frequently. It focuses on a set of core technical and team practices to improve productivity, adaptability to changing customer requirements, and code quality.",
        principles: ["XP is guided by five core values:", "Communication: Emphasizes constant, open, and honest communication.", "Simplicity: Do the simplest thing that could possibly work; avoid over-engineering.", "Feedback: Seek and incorporate feedback frequently from code, customers, and team.", "Courage: The courage to refactor, change designs, discard code, communicate bad news, and accept responsibility.", "Respect: For team members, the customer, and the work itself."],
        components: [
            "Core Practices: Planning Game, Small Releases, Metaphor (System Metaphor), Simple Design, Test-Driven Development (TDD), Continuous Integration (CI), Refactoring, Pair Programming, Collective Code Ownership, Small Releases, On-site Customer."
        ],
        howItWorks: ["Customer and developers collaborate to define 'User Stories' and prioritize them for iterations.", "Teams work in short iterations, delivering a small, valuable set of features.", "Test-Driven Development (TDD): Write automated tests before writing the code.", "Pair Programming: Most coding is done in pairs.", "Continuous Integration: Code changes are integrated frequently with automated tests.", "Refactoring: Developers continuously improve code design and structure.", "On-site Customer Feedback: Customer is readily available to clarify requirements and provide feedback.", "Small Releases: Working software is delivered frequently.", "Retrospectives: Teams reflect on their process and identify improvements."],
        advantages: ["High Code Quality: Practices like TDD, Pair Programming, and Refactoring lead to robust, well-tested code.", "Rapid Feedback: Frequent integration, testing, and customer involvement provide quick feedback.", "Adaptability to Change: Simple design and continuous refactoring make the codebase highly adaptable.", "Strong Team Collaboration: Practices foster intense teamwork and knowledge sharing.", "Reduced Technical Debt: Continuous refactoring prevents accumulation of technical debt.", "Customer Satisfaction: Close customer involvement ensures the product meets actual needs."],
        disadvantages: ["Intense and Demanding: Practices can be mentally taxing and require high discipline.", "Requires High Discipline: Strict adherence to XP practices is crucial.", "Demanding Customer Involvement: Requires a dedicated and available 'on-site customer'.", "Not Suitable for All Projects: Might be perceived as 'over-engineering' for very simple projects.", "Initial Learning Curve: Teams new to XP practices may experience a dip in productivity.", "Documentation Can Be Light: XP prioritizes working code over extensive documentation."],
        implementationSteps: [
            "Planning Game: Customer and developers collaborate to define 'User Stories' and prioritize them for short iterations (typically 1-2 weeks).",
            "Small Releases: Plan to deliver working software in very small, frequent releases to gather early and continuous feedback.",
            "Test-Driven Development (TDD): Before writing any production code, write automated tests for a small piece of functionality. Then, write just enough code to make the test pass, and finally refactor the code.",
            "Pair Programming: Most coding is done by two developers working together at one workstation, promoting knowledge sharing and immediate code review.",
            "Continuous Integration (CI): Integrate code changes into a shared repository frequently (multiple times a day), with automated builds and tests running after each integration.",
            "Refactoring: Continuously improve the design, structure, and readability of the existing code without changing its external behavior, reducing technical debt.",
            "Simple Design: Always aim for the simplest possible design that meets the current requirements, avoiding unnecessary complexity or 'big design up front'.",
            "Collective Code Ownership: All team members are collectively responsible for all the code, allowing anyone to make changes anywhere in the codebase.",
            "On-site Customer: Have a real customer or a dedicated customer representative readily available to the development team to clarify requirements and provide immediate feedback.",
            "Metaphor (System Metaphor): Develop a common understanding of how the system works, often through a simple, shared metaphor that describes its design.",
            "Sustainable Pace: Maintain a consistent and sustainable pace of work, avoiding burnout and promoting long-term productivity."
        ],
        implementationRisks: [
            "Developer resistance to pair programming: Risk: Reduced adoption, less knowledge sharing. Mitigation: Educate on benefits; provide training; allow for flexibility; start with voluntary pairing.",
            "High discipline required for TDD/CI/Refactoring: Risk: Practices fall by the wayside, quality degrades. Mitigation: Strong technical leadership; automated checks; continuous coaching; make it a team norm.",
            "Demanding 'on-site customer' availability: Risk: Delays, misinterpretations if customer is absent. Mitigation: Ensure customer understands commitment; use a dedicated proxy if necessary; leverage virtual collaboration tools.",
            "Perceived initial slowdown: Risk: Stakeholder impatience, pressure to abandon. Mitigation: Communicate the long-term benefits (quality, speed); celebrate early successes; show progress in code quality metrics.",
            "Lack of architectural vision: Risk: Simple design leads to fragmented architecture over time. Mitigation: Design iterations (e.g., spike solutions); architectural reviews; experienced technical leads to guide simple design."
        ],
        whenToUse: ["Projects with rapidly changing or unclear requirements.", "When high code quality, maintainability, and technical excellence are paramount.", "For small to medium-sized co-located teams willing to embrace rigorous engineering practices.", "When direct and continuous customer involvement is feasible.", "For projects with complex technical challenges."],
        criteria: {
            reqStability: 7 * 2, // Scaled from 4 to 7
            projectScale: 2 * 2, // Scaled from 2 to 2
            flexibility: 9 * 2, // Scaled from 5 to 9
            riskMitigation: 8 * 2, // Scaled from 5 to 8
            upfrontPlanning: 3 * 2, // Scaled from 1 to 3
            customerInvolvement: 10 * 2, // Scaled from 5 to 10
            releaseFrequency: 9 * 2, // Scaled from 4 to 9
            qualityFocus: 10 * 2, // Scaled from 5 to 10
            speedFocus: 9 * 2, // Scaled from 4 to 9
            teamMaturityRequired: 9 * 2 // Scaled from 5 to 9
        }
    },
    "Hybrid (Scrum and Waterfall)": {
        coreConcept: "A Hybrid methodology combines elements of both Agile (e.g., Scrum) and traditional (e.g., Waterfall) approaches. It typically involves a more structured, sequential approach for initial phases (like requirements and high-level design) and then transitions to iterative, agile development for implementation and testing.",
        principles: [
            "Phased Approach with Iterative Execution: Initial phases are sequential, followed by iterative development cycles.",
            "Upfront Planning and Detailed Requirements: Emphasizes thorough planning and documentation for foundational elements.",
            "Adaptability within Iterations: Allows for flexibility and responsiveness to change during development sprints.",
            "Risk Mitigation: Aims to reduce early project risks through upfront planning while adapting to evolving needs.",
            "Customer Involvement: Engages customers at key milestones and throughout iterative cycles."
        ],
        components: [
            "Phases (Waterfall-like): Detailed Requirements Gathering, High-Level Design.",
            "Phases (Scrum-like): Iterative Development Sprints (Design, Build, Test), Regular Reviews and Retrospectives.",
            "Roles: Project Manager (for overall coordination), Product Owner, Scrum Master, Development Team.",
            "Artifacts/Tools: Requirements Specification Document, High-Level Design Document, Product Backlog, Sprint Backlog, Increment."
        ],
howItWorks: [
            "Initial Phase: Comprehensive requirements are gathered and documented, and a high-level architectural design is created (Waterfall-like).",
            "Iterative Development: The project then moves into iterative sprints, similar to Scrum, where features are designed in detail, built, and tested.",
            "Regular Reviews: Stakeholders review increments at the end of each sprint to provide feedback.",
            "Adaptation: Feedback from sprints can inform adjustments to subsequent sprints or even refined requirements.",
            "Integration & Testing: Continuous integration and testing are performed throughout the sprints, with a final system test phase."
        ],
        implementationSteps: [
            "Initial Requirements & High-Level Design (Waterfall-like): Conduct a thorough upfront phase to gather and document comprehensive requirements and create a high-level architectural design. Obtain formal sign-off for these foundational elements.",
            "Transition to Iterative Development: Once the initial planning and high-level design are complete and approved, transition the project into iterative development cycles (e.g., Sprints, similar to Scrum).",
            "Iterative Design, Build, Test: Within each iteration, teams design features in detail, build the software, and conduct testing (unit, integration).",
            "Regular Reviews & Feedback: At the end of each iteration, hold review meetings where stakeholders inspect the working increment and provide feedback. This feedback can be incorporated into subsequent iterations.",
            "Adaptation & Refinement: Use the feedback from iterative reviews to adapt the detailed requirements and design for upcoming iterations. This allows for flexibility within the structured overall plan.",
            "Continuous Integration (within iterations): Implement continuous integration practices within the iterative development phase to ensure code is frequently merged and tested.",
            "Final System Testing & Deployment: After all iterative development is complete, conduct a final comprehensive system testing phase, followed by deployment to the production environment.",
            "Project Management & Coordination: A Project Manager typically oversees the overall project plan, milestones, and budget (Waterfall aspects), while Agile roles (Product Owner, Scrum Master) manage the iterative development teams."
        ],
        implementationRisks: [
            "Becoming 'Water-Scrum-Fall': Risk: Losing agility, reverting to sequential process. Mitigation: Clearly define agile boundaries for iterative phases; empower teams within iterations; resist adding too much upfront detail.",
            "Integration challenges between phases: Risk: Handoff issues, miscommunication. Mitigation: Strong communication and collaboration between phase leads; clear documentation of interfaces and expectations; cross-functional representation in planning.",
            "Scope creep in agile iterations: Risk: Uncontrolled feature growth after initial planning. Mitigation: Strong Product Owner role; strict prioritization; time-boxing iterations; clear change control for features outside the initial scope.",
            "Misalignment of traditional and agile mindsets: Risk: Conflict, inefficiency. Mitigation: Leadership sponsorship for the hybrid model; training on both approaches; focus on shared goals and value delivery.",
            "Insufficient continuous integration/testing: Risk: Late defect discovery within iterative phases. Mitigation: Implement robust CI/CD practices within the iterative phase; automate testing as much as possible."
        ],
        whenToUse: [
            "Projects with a mix of stable and evolving requirements, where a clear initial scope is needed but flexibility during development is also important.",
            "When integrating with external vendors or systems that require more upfront definition.",
            "Organizations transitioning from traditional to agile methodologies, seeking a phased adoption.",
            "Projects with regulatory compliance needs that benefit from early documentation and structured phases.",
            "For large, complex projects where some architectural stability is desired before iterative development begins."
        ],
        criteria: {
            reqStability: 7 * 2, // Scaled from 3 to 7
            projectScale: 6 * 2, // Scaled from 3 to 6
            flexibility: 6 * 2, // Scaled from 3 to 6
            riskMitigation: 6 * 2, // Scaled from 3 to 6
            upfrontPlanning: 7 * 2, // Scaled from 4 to 7
            customerInvolvement: 6 * 2, // Scaled from 3 to 6
            releaseFrequency: 4 * 2, // Scaled from 2 to 4
            qualityFocus: 7 * 2, // Scaled from 3 to 7
            speedFocus: 5 * 2, // Scaled from 2 to 5
            teamMaturityRequired: 5 * 2 // Scaled from 2 to 5
        }
    },
    "Lean": {
        coreConcept: "Lean software development is an iterative Agile methodology that focuses on maximizing customer value while minimizing waste. It emphasizes continuous improvement, respect for people, and building quality in.",
        principles: [
            "Eliminate Waste: Identify and remove anything that does not add value to the customer.",
            "Amplify Learning: Continuously learn through short iterations and feedback.",
            "Decide as Late as Possible: Defer decisions until the last responsible moment.",
            "Deliver Fast: Optimize the flow of value to the customer.",
            "Empower the Team: Give decision-making power to the people doing the work.",
            "Build Integrity In: Ensure quality is built into the process, not just tested at the end.",
            "See the Whole: Understand the entire value stream from end to end."
        ],
        components: [
            "Value Stream Mapping: Visualizing the steps involved in delivering value.",
            "Pull Systems: Work is 'pulled' when capacity is available, rather not 'pushed'.",
            "Kanban Boards: Often used to visualize flow and limit WIP.",
            "Continuous Improvement (Kaizen): Small, incremental improvements.",
            "Just-in-Time (JIT) Production: Deliver what is needed, when it is needed.",
            "Set-Based Development: Exploring multiple options simultaneously."
        ],
        howItWorks: [
            "Identify customer value and map the value stream.",
            "Analyze the value stream to identify and eliminate waste (e.g., unnecessary features, waiting time, defects).",
            "Implement a pull system to manage work flow.",
            "Empower development teams to make decisions and continuously improve their process.",
            "Focus on delivering small, frequent increments of value.",
            "Build quality into every step of the development process."
        ],
        implementationSteps: [
            "Identify Customer Value & Value Stream Mapping: Clearly define what constitutes 'value' from the customer's perspective. Map the entire value stream from idea generation to delivery and customer use to visualize all steps and identify non-value-adding activities.",
            "Analyze & Eliminate Waste: Systematically analyze the value stream to identify and eliminate various forms of waste (e.g., overproduction, waiting, unnecessary processing, defects, unnecessary motion, over-engineering).",
            "Implement Pull Systems: Transition from a 'push' system (where work is pushed to the next stage regardless of readiness) to a 'pull' system (where work is pulled by the next stage only when it has capacity). Kanban boards are often used for this.",
            "Empower the Team: Decentralize decision-making and empower development teams to make decisions about how to best deliver value and continuously improve their processes.",
            "Deliver Fast & Small Batches: Focus on optimizing the flow of value to the customer by delivering small, frequent increments of working software. This reduces lead time and allows for faster feedback.",
            "Build Integrity In (Quality at the Source): Integrate quality activities throughout the development process (e.g., automated testing, continuous integration) rather than relying solely on end-of-cycle testing. Aim to prevent defects rather than just detect them.",
            "Continuous Improvement (Kaizen): Foster a culture of continuous, small, incremental improvements (Kaizen). Regularly reflect on processes and look for ways to enhance efficiency and quality.",
            "See the Whole: Always maintain a holistic view of the entire value stream and optimize for the flow of value through the entire system, rather than optimizing individual parts in isolation."
        ],
        implementationRisks: [
            "Resistance to identifying and eliminating waste: Risk: Teams continue inefficient practices. Mitigation: Education on Lean principles; leadership support for waste reduction; measurable goals for efficiency improvements.",
            "Lack of empowerment/trust in teams: Risk: Centralized decision-making slows flow. Mitigation: Management must actively delegate authority; foster a culture of trust and autonomy; provide necessary training for teams to make decisions.",
            "Insufficient focus on continuous improvement: Risk: Stagnation, missed opportunities for optimization. Mitigation: Embed Kaizen events; use metrics to highlight areas for improvement; celebrate small, incremental successes.",
            "Difficulty in defining 'value' from customer perspective: Risk: Building features that don't truly deliver value. Mitigation: Strong Product Ownership; continuous customer engagement; use of validated learning techniques.",
            "Over-optimization of individual parts, not the whole: Risk: Sub-optimization, creating new bottlenecks elsewhere. Mitigation: Emphasize Value Stream Mapping; use system-level metrics; promote systems thinking across the organization."
        ],
        advantages: [
            "Increased Efficiency: Reduces waste and optimizes flow.",
            "Faster Delivery: Focus on continuous flow leads to quicker time to market.",
            "Higher Quality: Emphasis on building quality in and continuous improvement.",
            "Cost Reduction: Eliminates wasteful activities.",
            "Improved Customer Satisfaction: Delivers value more frequently and precisely.",
            "Empowered Teams: Fosters autonomy and continuous learning."
        ],
        disadvantages: [
            "Requires Strong Cultural Shift: Needs commitment from all levels to eliminate waste and empower teams.",
            "Less Prescriptive: Can be challenging for teams needing more structure.",
            "Relies on Experienced Teams: Effective implementation requires mature and disciplined teams.",
            "Initial Investment in Training: Understanding Lean principles can take time."
        ],
        whenToUse: [
            "Organizations seeking to optimize their value delivery process and reduce waste.",
            "When continuous improvement and efficiency are primary goals.",
            "For projects where priorities may change, and flexibility is needed.",
            "In environments where teams are empowered and self-organizing.",
            "When the focus is on a continuous flow of value rather than fixed iterations."
        ],
        criteria: {
            reqStability: 8, // Scaled from 4 to 8
            projectScale: 6, // Scaled from 3 to 6
            flexibility: 9, // Scaled from 4 to 9
            riskMitigation: 7, // Scaled from 4 to 7
            upfrontPlanning: 3, // Scaled from 2 to 3
            customerInvolvement: 7, // Scaled from 4 to 7
            releaseFrequency: 9, // Scaled from 4 to 9
            qualityFocus: 9, // Scaled from 4 to 9
            speedFocus: 10, // Scaled from 5 to 10
            teamMaturityRequired: 8 // Scaled from 4 to 8
        }
    },
    "DevOps": {
        coreConcept: "DevOps is a set of practices that combines software development (Dev) and IT operations (Ops) to shorten the systems development life cycle and provide continuous delivery with high software quality. It is a cultural and technical movement focused on automation, collaboration, and rapid feedback loops across the entire value chain.",
        principles: [
            "Culture (CALMS): Foster a culture of collaboration, trust, and shared responsibility.",
            "Automation: Automate repetitive tasks in the delivery pipeline (CI/CD).",
            "Lean Flow: Optimize the flow of work from development to operations.",
            "Measurement: Collect metrics to monitor performance and identify bottlenecks.",
            "Sharing: Share knowledge, tools, and best practices across teams."
        ],
        components: [
            "Continuous Integration (CI): Regularly merging code changes into a central repository.",
            "Continuous Delivery (CD): Automatically building, testing, and preparing code for release.",
            "Continuous Deployment (CD): Automatically deploying every validated change to production.",
            "Infrastructure as Code (IaC): Managing and provisioning infrastructure through code.",
            "Monitoring and Logging: Real-time tracking of application and infrastructure performance.",
            "Microservices: Architecting applications as collections of loosely coupled services.",
            "Containers (e.g., Docker, Kubernetes): Packaging applications and dependencies."
        ],
        howItWorks: [
            "Developers commit code frequently to a shared repository.",
            "Automated CI/CD pipelines build, test, and deploy code to various environments.",
            "Infrastructure and configurations are managed as code, ensuring consistency.",
            "Operations teams collaborate closely with development, providing feedback on performance and issues.",
            "Continuous monitoring provides real-time insights into production systems.",
            "Teams continuously learn and improve processes based on data and feedback."
        ],
        implementationSteps: [
            "Foster Culture of Collaboration: Break down silos between development, operations, QA, and security teams. Promote shared goals, responsibilities, and empathy.",
            "Implement Continuous Integration (CI): Establish practices for developers to frequently merge their code changes into a central repository, with automated builds and tests running after each merge to detect integration issues early.",
            "Implement Continuous Delivery (CD): Automate the process of building, testing, and preparing code for release to various environments (e.g., staging, production). This ensures that software can be released reliably at any time.",
            "Automate Continuous Deployment (Optional but Recommended): Extend CD to automatically deploy every validated code change to production, minimizing manual intervention and speeding up releases.",
            "Adopt Infrastructure as Code (IaC): Manage and provision infrastructure (servers, networks, databases) through code and automation tools, ensuring consistency, repeatability, and version control.",
            "Implement Comprehensive Monitoring and Logging: Set up robust monitoring and logging systems to gather real-time data on application performance, infrastructure health, and user behavior in production. Use this data for quick issue detection and informed decision-making.",
            "Establish Feedback Loops: Create fast feedback loops from operations back to development. This includes automated alerts, shared dashboards, and blameless post-mortems to learn from incidents.",
            "Embrace Small Batch Sizes: Work in small, manageable increments of code and features to reduce risk, accelerate delivery, and simplify troubleshooting.",
            "Shift-Left Security and Testing: Integrate security and testing practices earlier into the development lifecycle, rather than treating them as end-of-cycle activities."
        ],
        implementationRisks: [
            "Resistance to cultural change: Risk: Silos persist, lack of collaboration. Mitigation: Strong leadership sponsorship; cross-functional training; shared metrics and goals; blameless post-mortems; team rotation.",
            "High initial investment in automation tools/infrastructure: Risk: Budget constraints, slow adoption. Mitigation: Start small with a pilot project; prioritize automation efforts based on ROI; leverage open-source tools where appropriate.",
            "Complexity of pipeline setup and maintenance: Risk: Fragile automation, frequent failures. Mitigation: Start with a simple pipeline; iterate and improve incrementally; invest in skilled automation engineers; use modular, reusable components.",
            "Security vulnerabilities in automated pipelines: Risk: Exploitable weaknesses, data breaches. Mitigation: Integrate security practices ('Shift-Left Security') throughout the pipeline; regular security audits of automation scripts and infrastructure.",
            "Alert fatigue from excessive monitoring: Risk: Important alerts are missed. Mitigation: Tune monitoring thresholds; prioritize alerts based on impact; integrate alerts with incident management systems."
        ],
        whenToUse: [
            "Organizations aiming for high-frequency releases and continuous delivery.",
            "When there's a need to break down silos between Development and Operations.",
            "For products requiring high availability, scalability, and rapid response to issues.",
            "Companies adopting cloud-native architectures and microservices.",
            "Teams that are ready to invest in automation and cultural transformation."
        ],
        criteria: {
            reqStability: 9, // Scaled from 5 to 9
            projectScale: 8, // Scaled from 5 to 8
            flexibility: 10, // Scaled from 4 to 10
            riskMitigation: 9, // Scaled from 5 to 9
            upfrontPlanning: 4, // Scaled from 2 to 4
            customerInvolvement: 8, // Scaled from 3 to 8
            releaseFrequency: 10, // Scaled from 5 to 10
            qualityFocus: 10, // Scaled from 5 to 10
            speedFocus: 10, // Scaled from 5 to 10
            teamMaturityRequired: 9 // Scaled from 5 to 9
        }
    },
    "RAD (Rapid Application Development)": {
        coreConcept: "Rapid Application Development (RAD) is an Agile software development methodology that prioritizes rapid prototyping and iterative delivery over extensive upfront planning. It emphasizes speed, flexibility, and close collaboration with users to quickly build functional software.",
        principles: [
            "Iterative and Incremental Development: Break down the project into smaller, manageable iterations.",
            "Prototyping: Develop working prototypes early and continuously refine them based on feedback.",
            "User Involvement: Continuous and active involvement of end-users throughout the development process.",
            "Time-boxing: Strict deadlines for each iteration to maintain focus and speed.",
            "Team Collaboration: Small, highly skilled, and cross-functional teams.",
            "Tools and Techniques: Leverage automated tools (e.g., CASE tools, code generators) to speed up development."
        ],
        components: [
            "Requirements Planning (Joint Requirements Planning - JRP): Collaborative workshops with users to define requirements.",
            "User Design (Joint Application Design - JAD): Collaborative design sessions with users to create prototypes.",
            "Construction: Rapid development of application features using prototypes and iterative cycles.",
            "Cutover (Deployment): Rapid deployment and transition to the new system.",
            "RAD Team: Small, dedicated, and highly skilled team members."
        ],
        howItWorks: [
            "Requirements are gathered quickly through JRP sessions with user involvement.",
            "User design is rapidly created through JAD sessions, resulting in functional prototypes.",
            "The construction phase involves iterative development cycles where prototypes are refined and features are built.",
            "Each iteration delivers a working increment that is reviewed by users.",
            "Automated tools are used to accelerate coding and testing.",
            "The final system is rapidly deployed and transitioned to users."
        ],
        implementationSteps: [
            "Requirements Planning (Joint Requirements Planning - JRP): Conduct collaborative workshops with end-users and stakeholders to quickly define the overall system requirements and scope. The focus is on high-level needs rather than exhaustive detail.",
            "User Design (Joint Application Design - JAD): Facilitate intensive, collaborative design sessions with users to rapidly create functional prototypes and mock-ups of the application. This phase focuses on user interface and experience, and iterative refinement based on immediate feedback.",
            "Construction: Rapidly develop the application features in iterative cycles based on the approved prototypes. This phase heavily leverages automated tools (e.g., code generators, visual development environments) to accelerate coding and testing.",
            "Iterative Development & Feedback: Each construction iteration delivers a working increment that is immediately reviewed by users. Feedback from these reviews is incorporated into subsequent iterations.",
            "Cutover (Deployment): Once all features are built and tested, the final system is rapidly deployed to the production environment. This phase emphasizes a quick and smooth transition for users.",
            "Team Collaboration: Maintain a small, dedicated, and highly skilled cross-functional team throughout the process to ensure efficient communication and rapid decision-making."
        ],
        implementationRisks: [
            "Insufficient user involvement: Risk: Product does not meet user needs. Mitigation: Ensure dedicated, consistent user participation in JRP/JAD sessions; emphasize their critical role.",
            "Scope creep: Risk: Features continuously added, delaying delivery. Mitigation: Strict time-boxing for iterations; strong change control; clear communication of scope boundaries.",
            "Lack of scalability/maintainability: Risk: Rapid development leads to technical debt, difficult to scale. Mitigation: Integrate architectural oversight; enforce coding standards; prioritize refactoring time.",
            "Over-reliance on automation tools: Risk: Tool limitations, vendor lock-in. Mitigation: Understand tool capabilities and limitations; have contingency plans; choose flexible tools.",
            "Limited documentation: Risk: Knowledge loss, difficulty in future maintenance. Mitigation: Supplement automated documentation with essential manual documentation; encourage inline code comments; conduct knowledge transfer sessions."
        ],
        whenToUse: [
            "Projects with clear, but evolving, user interface requirements.",
            "When rapid delivery and user feedback are critical.",
            "For small to medium-sized projects where the team is highly skilled and co-located.",
            "When the primary goal is to quickly deliver a functional system.",
            "In environments where users are willing and able to participate actively throughout the process."
        ],
        criteria: {
            reqStability: 6, // Scaled from 3 to 6
            projectScale: 4, // Scaled from 2 to 4
            flexibility: 9, // Scaled from 4 to 9
            riskMitigation: 8, // Scaled from 3 to 8
            upfrontPlanning: 3, // Scaled from 1 to 3
            customerInvolvement: 10, // Scaled from 5 to 10
            releaseFrequency: 8, // Scaled from 4 to 8
            qualityFocus: 7, // Scaled from 2 to 7
            speedFocus: 10, // Scaled from 5 to 10
            teamMaturityRequired: 7 // Scaled from 4 to 7
        }
    },
    "BDD (Behavior-Driven Development)": {
        coreConcept: "Behavior-Driven Development (BDD) is an Agile software development methodology that enhances collaboration between developers, QA, and non-technical stakeholders by defining application behavior in a human-readable format. It extends Test-Driven Development (TDD) by focusing on behavior rather than just tests.",
        principles: [
            "Collaboration: Foster communication and understanding between all stakeholders.",
            "Shared Understanding: Define requirements using a common language (Ubiquitous Language).",
            "Executable Specifications: Write specifications that can be automated as tests.",
            "Focus on Behavior: Describe how the system should behave from the user's perspective.",
            "Outside-In Development: Start with external behavior and drill down to implementation details."
        ],
        components: [
            "Gherkin Syntax (Given-When-Then): A structured language for writing executable specifications (e.g., 'Given a user is logged in, When they add an item to the cart, Then the item should appear in the cart').",
            "Feature Files: Documents containing scenarios written in Gherkin.",
            "Automation Frameworks (e.g., Cucumber, SpecFlow): Tools to execute Gherkin specifications as automated tests.",
            "Three Amigos: A collaborative meeting involving Product Owner/Business Analyst, Developer, and Tester to discuss and define features.",
            "Living Documentation: Automated specifications that serve as up-to-date documentation."
        ],
        howItWorks: [
            "Three Amigos meeting: Product Owner, Developer, and Tester collaborate to define a feature using examples and scenarios.",
            "Write Feature Files: Scenarios are written in Gherkin syntax (Given-When-Then). These are the executable specifications.",
            "Automate Scenarios: Developers and QAs write code to automate these Gherkin scenarios as tests.",
            "Develop Code: Developers write the application code to make the automated tests pass.",
            "Refactor: Improve the code and tests.",
            "Continuous Feedback: The executable specifications provide continuous feedback on whether the system behaves as expected."
        ],
        implementationSteps: [
            "Discover Behaviors (Three Amigos): Initiate the process with a 'Three Amigos' meeting, bringing together the Product Owner/Business Analyst, a Developer, and a Tester. In this collaborative session, discuss a feature using concrete examples to gain a shared understanding of its desired behavior.",
            "Write Executable Specifications (Gherkin): Translate the agreed-upon behaviors into structured scenarios using Gherkin syntax (Given-When-Then). These 'feature files' serve as both human-readable requirements and automated test scripts.",
            "Automate Scenarios: Developers and QAs write 'step definitions' â€“ code that links the human-readable Gherkin steps to the application's actual code. This makes the specifications executable as automated tests.",
            "Develop Production Code: Developers then write the minimum amount of application code necessary to make the automated BDD scenarios pass. This is often done in a Test-Driven Development (TDD) style, but driven by behavior.",
            "Refactor: Once the scenarios pass, refactor both the production code and the automation code to improve their design, readability, and maintainability without changing their external behavior.",
            "Continuous Feedback: The executable specifications act as 'living documentation' and a continuous regression suite. They provide immediate feedback on whether the system still behaves as expected after changes, fostering confidence and reducing defects."
        ],
        implementationRisks: [
            "Difficulty in writing good Gherkin scenarios: Risk: Ambiguous or overly technical specifications. Mitigation: Training on Gherkin syntax and scenario writing; focus on business-readable language; involve business analysts in writing.",
            "Overhead for simple features: Risk: BDD adds unnecessary complexity for straightforward tasks. Mitigation: Apply BDD strategically to complex or high-risk features; use simpler testing for trivial cases.",
            "Maintaining step definitions: Risk: Automation code becomes a burden, breaks frequently. Mitigation: Write modular, reusable step definitions; refactor automation code regularly; invest in robust automation frameworks.",
            "Lack of collaboration in Three Amigos: Risk: Reverting to traditional handoffs, missing shared understanding. Mitigation: Strong facilitation of Three Amigos sessions; leadership emphasis on cross-functional collaboration.",
            "Treating BDD as just another testing tool: Risk: Losing the communication and design benefits. Mitigation: Emphasize BDD's role in defining requirements and driving development; focus on the 'why' behind the tests."
        ],
        whenToUse: [
            "Projects where clear communication and shared understanding between business and technical teams are critical.",
            "When building complex systems with many business rules.",
            "For teams that want to improve collaboration and reduce misunderstandings.",
            "When aiming for high test coverage and living documentation.",
            "As an extension to Agile methodologies like Scrum or Kanban to improve specification quality."
        ],
        criteria: {
            reqStability: 7, // Scaled from 4 to 7
            projectScale: 5, // Scaled from 3 to 5
            flexibility: 8, // Scaled from 4 to 8
            riskMitigation: 9, // Scaled from 5 to 9
            upfrontPlanning: 6, // Scaled from 3 to 6
            customerInvolvement: 9, // Scaled from 4 to 9
            releaseFrequency: 7, // Scaled from 3 to 7
            qualityFocus: 10, // Scaled from 3 to 10
            speedFocus: 7, // Scaled from 4 to 7
            teamMaturityRequired: 8 // Scaled from 4 to 8
        }
    },
    "TDD (Test-Driven Development)": {
        coreConcept: "Test-Driven Development (TDD) is a software development practice where developers write automated tests before writing the actual production code. The process follows a 'Red-Green-Refactor' cycle, leading to robust, well-tested, and maintainable code.",
        principles: [
            "Red-Green-Refactor: Write a failing test (Red), write just enough code to make it pass (Green), then improve the code (Refactor).",
            "Write Tests First: Tests drive the design and implementation.",
            "Small Steps: Work in very small, incremental steps.",
            "Continuous Feedback: Get immediate feedback on code changes.",
            "Clean Code: Encourages writing simple, clean, and modular code."
        ],
        components: [
            "Unit Tests: Automated tests for the smallest testable parts of an application.",
            "Test Frameworks (e.g., JUnit, NUnit, Jest): Tools to write and run automated tests.",
            "Code Coverage Tools: Measure the percentage of code covered by tests.",
            "Refactoring: The process of restructuring existing computer code without changing its external behavior."
        ],
        howItWorks: [
            "Red: Write a small, failing automated test case for a new piece of functionality.",
            "Run Tests: Verify that the new test fails (and all existing tests pass).",
            "Green: Write the minimum amount of production code required to make the new test pass.",
            "Run Tests: Verify that all tests (new and old) now pass.",
            "Refactor: Improve the design of the code, remove duplication, and ensure clarity, without changing external behavior.",
            "Repeat: Continue the Red-Green-Refactor cycle for the next small piece of functionality."
        ],
        implementationSteps: [
            "Red (Write Failing Test): For a new piece of functionality or a bug fix, write a small, automated test case that describes the desired behavior and is expected to fail because the corresponding production code does not yet exist or is incorrect.",
            "Run Tests (See Red): Execute all automated tests. Confirm that the newly written test fails (indicating it correctly identifies missing or incorrect functionality) and that all previously passing tests still pass.",
            "Green (Write Production Code): Write the minimum amount of production code necessary to make the failing test pass. The focus here is solely on making the test pass, not on perfect design or extensive functionality.",
            "Run Tests (See Green): Execute all automated tests again. Confirm that all tests (including the new one) now pass. This indicates that the new functionality is working as expected and no existing functionality has been broken (regression).",
            "Refactor: Once all tests are green, improve the design, structure, and readability of the newly written production code and the test code itself. Remove any duplication, simplify logic, and enhance clarity, *without* changing the external behavior or breaking any tests.",
            "Repeat: Continuously repeat the Red-Green-Refactor cycle for the next small piece of functionality. This iterative process ensures a steady pace of development, high code quality, and a robust test suite."
        ],
        implementationRisks: [
            "Initial slowdown/resistance from developers: Risk: Perceived inefficiency, abandonment of practice. Mitigation: Provide training and coaching; emphasize long-term benefits (fewer bugs, better design); start with small, manageable tasks.",
            "Writing bad tests (e.g., brittle, untestable): Risk: Tests become a maintenance burden, provide false confidence. Mitigation: Training on good test design principles; peer review of tests; focus on unit tests for TDD.",
            "Not refactoring: Risk: Codebase degrades, becomes hard to change. Mitigation: Make refactoring a non-negotiable part of the cycle; use code review to enforce refactoring; allocate explicit time for it.",
            "Focusing only on unit tests: Risk: Missing integration or system-level bugs. Mitigation: Complement TDD with higher-level testing (e.g., BDD, integration tests, end-to-end tests); establish a comprehensive test strategy.",
            "Difficulty in testing complex legacy code: Risk: Cannot easily apply TDD to existing codebase. Mitigation: Use 'characterization tests' to understand existing behavior; apply 'strangler pattern' to refactor small parts with TDD."
        ],
        whenToUse: [
            "Any project where high code quality, maintainability, and reliability are critical.",
            "For teams that want to reduce technical debt and improve code design.",
            "When building complex logic or algorithms that require precise verification.",
            "As a core engineering practice within Agile methodologies like XP or Scrum.",
            "When developers want to increase their confidence in their code and facilitate refactoring."
        ],
        criteria: {
            reqStability: 6, // Scaled from 3 to 6
            projectScale: 5, // Scaled from 3 to 5
            flexibility: 7, // Scaled from 4 to 7
            riskMitigation: 9, // Scaled from 5 to 9
            upfrontPlanning: 5, // Scaled from 2 to 5
            customerInvolvement: 6, // Scaled from 3 to 6
            releaseFrequency: 7, // Scaled from 3 to 7
            qualityFocus: 10, // Scaled from 5 to 10
            speedFocus: 8, // Scaled from 4 to 8
            teamMaturityRequired: 8 // Scaled from 4 to 8
        }
    }
};

// Define a mapping for CSV column headers to their desired full names in methodologiesData
// This map ensures that data from CSV columns like "Spiral" and "RAD" are correctly
// associated with their full names ("Spiral Model", "RAD (Rapid Application Development)")
// in the main 'methodologiesData' object, preventing perceived duplicates.
const csvColumnToTargetKeyMap = {
    "Waterfall": "Waterfall",
    "V-Model": "V-Model",
    "Scrum": "Scrum",
    "Kanban": "Kanban",
    "XP": "Extreme Programming (XP)",
    "Lean": "Lean",
    "SAFe": "SAFe",
    "DevOps": "DevOps",
    "Spiral": "Spiral Model",
    "RAD": "RAD (Rapid Application Development)",
    // For BDD/TDD, apply its scores to both BDD and TDD entries in methodologiesData.
    // This assumes the CSV's BDD/TDD column represents combined data for both.
    "BDD/TDD": ["BDD (Behavior-Driven Development)", "TDD (Test-Driven Development)"]
};

// Define a mapping for parameter display names for the chart axes
const parameterDisplayNames = {
    flexibility: 'Flexibility/Adaptability',
    projectScale: 'Project Size/Scale',
    reqStability: 'Requirement Stability',
    riskMitigation: 'Risk Mitigation (10=Early, 1=Late)', // Updated for clarity
    upfrontPlanning: 'Upfront Planning',
    customerInvolvement: 'Customer Involvement',
    releaseFrequency: 'Release Frequency'
};

// Define a mapping for user input to methodology criteria values
const criteriaMapping = {
    'regulation': {
        'yes': { type: 'preference', criteria: ['upfrontPlanning', 'reqStability', 'riskMitigation'], values: [8, 9, 9] },
        'no': { type: 'preference', criteria: ['flexibility', 'speedFocus'], values: [8, 8] }
    },
    'safety': {
        'yes': { type: 'preference', criteria: ['riskMitigation', 'qualityFocus', 'reqStability'], values: [10, 10, 10] },
        'no': { type: 'preference', criteria: [], values: [] } // Neutral impact
    },
    'teamSize': {
        'small': { type: 'range', criterion: 'projectScale', min: 1, max: 3 },
        'medium': { type: 'range', criterion: 'projectScale', min: 4, max: 6 },
        'large': { type: 'range', criterion: 'projectScale', min: 7, max: 10 },
        'remote': { type: 'preference', criteria: ['upfrontPlanning'], values: [6] } // Remote teams might benefit from more upfront clarity
    },
    'techContext': {
        'legacy': { type: 'preference', criteria: ['reqStability', 'upfrontPlanning'], values: [7, 7] },
        'cloud': { type: 'preference', criteria: ['flexibility', 'releaseFrequency', 'speedFocus'], values: [9, 9, 9] },
        'embedded': { type: 'preference', criteria: ['reqStability', 'riskMitigation', 'qualityFocus'], values: [9, 9, 9] },
        'ai': { type: 'preference', criteria: ['flexibility', 'customerInvolvement', 'riskMitigation'], values: [9, 9, 4] } // High tolerance for early risk/uncertainty in AI
    },
    'businessGoal': {
        'speed': { type: 'preference', criteria: ['speedFocus', 'releaseFrequency', 'flexibility'], values: [10, 10, 9] },
        'reliability': { type: 'preference', criteria: ['qualityFocus', 'riskMitigation', 'reqStability'], values: [10, 10, 9] },
        'innovation': { type: 'preference', criteria: ['flexibility', 'customerInvolvement', 'speedFocus'], values: [10, 10, 9] },
        'cost': { type: 'preference', criteria: ['upfrontPlanning', 'qualityFocus'], values: [8, 7] }
    },
    'requirements': {
        'stable': { type: 'range', criterion: 'reqStability', min: 8, max: 10 },
        'moderate': { type: 'range', criterion: 'reqStability', min: 4, max: 7 },
        'volatile': { type: 'range', criterion: 'reqStability', min: 1, max: 3 }
    },
    'releaseFreq': {
        'months': { type: 'range', criterion: 'releaseFrequency', min: 1, max: 3 },
        'weeks': { type: 'range', criterion: 'releaseFrequency', min: 4, max: 7 },
        'days': { type: 'range', criterion: 'releaseFrequency', min: 8, max: 10 }
    },
    'qualitySpeed': {
        'quality': { type: 'preference', criteria: ['qualityFocus'], values: [10] },
        'speed': { type: 'preference', criteria: ['speedFocus'], values: [10] },
        'balance': { type: 'preference', criteria: ['qualityFocus', 'speedFocus'], values: [7, 7] }
    },
    'teamExp': {
        'novice': { type: 'range', criterion: 'teamMaturityRequired', min: 1, max: 4 },
        'some': { type: 'range', criterion: 'teamMaturityRequired', min: 5, max: 7 },
        'expert': { type: 'range', criterion: 'teamMaturityRequired', min: 8, max: 10 }
    },
    'customerAccess': {
        'rare': { type: 'range', criterion: 'customerInvolvement', min: 1, max: 3 },
        'sometimes': { type: 'range', criterion: 'customerInvolvement', min: 4, max: 7 },
        'frequent': { type: 'range', criterion: 'customerInvolvement', min: 8, max: 10 }
    }
};

// New criteria labels for the comparison matrix
const criteriaLabels = {
    methodologyName: 'Methodology',
    reqStability: 'Req. Stability',
    projectScale: 'Project Scale',
    flexibility: 'Flexibility',
    riskMitigation: 'Risk Mitigation',
    upfrontPlanning: 'Upfront Planning',
    customerInvolvement: 'Customer Inv.',
    releaseFrequency: 'Release Freq.',
    qualityFocus: 'Quality Focus',
    speedFocus: 'Speed Focus',
    teamMaturityRequired: 'Team Maturity'
};

// Function to get criteria value label for display in matrix
function getCriteriaValueLabel(criterionName, value) {
    switch (criterionName) {
        case 'reqStability':
            if (value >= 8) return 'Very Stable';
            if (value >= 4) return 'Moderate';
            return 'Highly Volatile';
        case 'projectScale':
            if (value >= 9) return 'Enterprise';
            if (value >= 7) return 'Large Program';
            if (value >= 4) return 'Medium Team';
            return 'Small Team';
        case 'flexibility':
            if (value >= 8) return 'High';
            if (value >= 4) return 'Medium';
            return 'Low';
        case 'riskMitigation':
            if (value >= 8) return 'Early/Low Tolerance'; // Low tolerance for risk means early mitigation
            if (value >= 4) return 'Medium';
            return 'Late/High Tolerance'; // High tolerance for risk means late mitigation
        case 'upfrontPlanning':
            if (value >= 8) return 'High';
            if (value >= 4) return 'Moderate';
            return 'Low';
        case 'customerInvolvement':
            if (value >= 8) return 'High';
            if (value >= 4) return 'Moderate';
            return 'Low';
        case 'releaseFrequency':
            if (value >= 8) return 'Frequent (Daily/Weekly)';
            if (value >= 4) return 'Moderate (Weekly/Monthly)';
            return 'Infrequent (Quarterly+)';
        case 'qualityFocus':
            if (value >= 8) return 'High';
            if (value >= 4) return 'Medium';
            return 'Low';
        case 'speedFocus':
            if (value >= 8) return 'High';
            if (value >= 4) return 'Medium';
            return 'Low';
        case 'teamMaturityRequired':
            if (value >= 8) return 'Expert';
            if (value >= 5) return 'Some Experience';
            return 'Novice';
    }
    return value; // Fallback
}


// --- Detailed Selector Data and Logic ---
// These variables are declared here once and then populated by parseDetailedCsvData
let detailedMethodologiesRawData = {};
let detailedParameters = [];
let detailedMethodologyNames = [];

// CSV data from deepseek_csv_20250623_c75f4d.txt
const csvData = `group,parameter,description,score_range,Waterfall,V-Model,Scrum,Kanban,XP,Lean,SAFe,DevOps,Spiral,RAD,BDD/TDD
"Methodology Overview","Name","Formal methodology name","N/A","Waterfall","V-Model","Scrum","Kanban","Extreme Programming","Lean Software Development","Scaled Agile Framework","DevOps","Spiral Model","Rapid Application Development","Behavior-Driven Development"
"Methodology Overview","Year Introduced","When methodology was first formalized","N/A","1970","1979","1995","2000s","1996","2003","2011","2009","1986","1991","2006"
"Methodology Overview","Founder/Creator","Original methodology author","N/A","Winston Royce","Paul Rook","Jeff Sutherland","Taiichi Ohno","Kent Beck","Mary Poppendieck","Dean Leffingwell","Patrick Debois","Barry Boehm","James Martin","Dan North"

"Core Characteristics","Flexibility","Adaptability to changing requirements","1=Rigid, 5=Highly Adaptive",1,1,4,5,5,4,3,4,3,4,4
"Core Characteristics","Delivery Speed","Time from idea to production","1=Years, 5=Hours",1,1,4,5,4,4,3,5,2,4,3
"Core Characteristics","Scalability","Suitability for large teams/projects","1=Single-team, 5=Enterprise",2,2,3,3,2,3,5,5,3,2,3
"Core Characteristics","Risk Management","How well risks are identified/mitigated","1=Late, 5=Continuous",2,4,4,4,5,4,4,5,5,3,5
"Core Characteristics","Team Size","Optimal team structure","1=Tiny, 5=Huge",3,3,3,5,2,4,5,5,4,3,3
"Core Characteristics","Documentation Level","Amount of formal documentation","1=Minimal, 5=Exhaustive",5,5,3,1,1,1,4,1,4,1,3
"Core Characteristics","Customer Involvement","Frequency of stakeholder feedback","1=Never, 5=Daily",1,1,4,3,5,4,3,3,3,5,4
"Core Characteristics","Automation Potential","Ease of integrating CI/CD","1=Manual, 5=Fully Automated",1,2,3,4,5,3,4,5,2,1,5
"Core Characteristics","Regulatory Compliance","Suitability for regulated industries","1=Poor, 5=Excellent",5,5,3,2,1,2,4,3,5,1,3
"Core Characteristics","Cost","Implementation expense","1=Low, 5=High",4,4,3,2,3,2,4,3,4,2,3

"Team Dynamics","Cross-Functional Requirement","Needs multidisciplinary teams","1=Siloed, 5=Cross-functional",1,1,4,5,5,4,3,5,3,4,4
"Team Dynamics","Specialist Dependency","Reliance on specialized roles","1=Generalists, 5=Specialists",5,5,3,2,4,3,4,4,4,2,3
"Team Dynamics","Leadership Style","Command vs servant leadership","1=Command, 5=Servant",1,1,3,5,5,4,2,4,3,4,3
"Team Dynamics","Decision-Making Speed","Time from proposal to action","1=Slow, 5=Instant",1,1,3,5,4,4,2,4,3,4,3
"Team Dynamics","Inter-Team Coordination","Need for cross-team sync","1=Independent, 5=Constant",1,1,4,3,2,3,5,5,3,2,3
"Team Dynamics","Stress Levels","Psychological pressure on team","1=Low, 5=High",2,2,3,2,4,3,4,3,3,3,3
"Team Dynamics","Burnout Risk","Likelihood of team exhaustion","1=Low, 5=Critical",3,3,4,2,4,3,5,3,3,3,4
"Team Dynamics","Diversity & Inclusion Support","Facilitates diverse teams","1=Poor, 5=Excellent",2,2,4,5,5,4,3,5,3,4,4
"Team Dynamics","Onboarding Complexity","Ramp-up time for new members","1=Easy, 5=Difficult",2,3,3,2,4,3,4,4,3,2,4
"Team Dynamics","Distributed Team Support","Remote work effectiveness","1=Colocated, 5=Fully Remote",1,1,3,5,2,3,4,5,2,2,3

"Technical Factors","Microservices Compatibility","Works with distributed architectures","1=Monolithic-only, 5=Cloud-native",1,1,4,4,5,4,4,5,2,3,4
"Technical Factors","Monolithic Architecture Suitability","Works with centralized systems","1=Microservices-only, 5=Monolithic-focused",5,5,3,3,1,3,4,2,5,3,3
"Technical Factors","API-First Design Support","Encourages API-centric development","1=Ad-hoc, 5=Mandatory",1,1,3,3,5,4,3,5,2,3,4
"Technical Factors","Database Schema Flexibility","Ease of schema changes","1=Fixed, 5=Schema-less",1,1,3,4,5,4,3,5,2,3,4
"Technical Factors","State Management Complexity","Handles complex application state","1=Simple, 5=Very Complex",1,1,3,4,5,4,3,5,2,3,4
"Technical Factors","Real-Time System Support","Works for event-driven systems","1=Batch, 5=Real-time",1,1,3,5,5,4,3,5,2,3,4
"Technical Factors","Performance Optimization","Built-in performance focus","1=Ignored, 5=Primary",2,4,3,3,4,4,3,5,4,2,4
"Technical Factors","Security Integration","Security-by-design capability","1=Retrofit, 5=Baked-in",2,5,3,3,5,4,4,3,4,2,5
"Technical Factors","Legacy System Compatibility","Works with old systems","1=Greenfield-only, 5=Legacy-first",5,5,2,3,1,2,4,2,4,1,2
"Technical Factors","Cloud-Native Alignment","Cloud deployment suitability","1=On-prem, 5=Cloud-optimized",1,1,4,4,5,4,4,5,2,3,4

"Business Factors","Time-to-Market Pressure Handling","Responds to urgent deadlines","1=Slow, 5=Very Fast",1,1,4,5,4,5,3,5,3,5,4
"Business Factors","Investor/Stakeholder Reporting Needs","Formal progress documentation","1=Agile, 5=Waterfall",5,5,3,2,1,2,4,2,4,2,3
"Business Factors","Competitive Advantage Creation","Enables market differentiation","1=Copycat, 5=Innovative",1,1,3,4,5,5,3,5,3,4,4
"Business Factors","Market Validation Support","Facilitates product-market fit testing","1=Theoretical, 5=Empirical",1,1,4,4,5,5,3,5,3,5,4
"Business Factors","Pivot Readiness","Adapts to market changes","1=Waterfall, 5=Lean Startup",1,1,4,5,5,5,2,5,3,4,4
"Business Factors","Cost Reduction Focus","Optimizes for budget constraints","1=Ignored, 5=Primary",2,2,3,5,3,5,3,5,3,4,3
"Business Factors","Vendor Lock-in Risk","Dependency on specific platforms","1=Open, 5=Locked",1,1,2,1,1,1,4,3,1,1,1
"Business Factors","Innovation Support","Encourages novel solutions","1=Copying, 5=R&D",1,1,3,4,5,5,3,5,4,4,4
"Business Factors","Ethical Engineering Support","Facilitates responsible tech","1=Ignored, 5=Embedded",2,4,3,3,4,4,3,4,3,2,4
"Business Factors","Failure Tolerance","Accepts experimental failures","1=Zero, 5=High",1,1,3,4,5,5,2,5,4,4,4

"Emerging Tech","AI/ML Project Suitability","Supports data science workflows","1=Unsuitable, 5=Optimized",1,1,3,4,4,4,3,5,3,2,4
"Emerging Tech","Blockchain Development Support","Works for decentralized apps","1=No, 5=Yes",1,1,2,3,3,3,2,4,2,1,3
"Emerging Tech","IoT System Compatibility","Handles embedded/edge computing","1=No, 5=Yes",1,3,3,4,3,4,3,5,4,2,3
"Emerging Tech","Quantum Computing Readiness","Future-proof for quantum","1=No, 5=Ready",1,1,1,1,1,1,1,2,1,1,1
"Emerging Tech","AR/VR Development Support","Works for immersive tech","1=No, 5=Yes",1,1,3,4,4,4,3,5,3,4,3
`;


function parseDetailedCsvData(csvText) {
    const lines = csvText.trim().split('\n');
    if (lines.length < 2) {
        console.error("CSV data is too short to parse.");
        return;
    }

    // Parse header for methodology names (CSV column headers)
    const header = lines[0].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(h => h.trim().replace(/"/g, ''));
    const csvMethodologyCols = header.slice(4); // Methodologies start from the 5th column (index 4)

    // Create a list of target methodology names based on the mapping
    const mappedMethodologyNamesSet = new Set();
    csvMethodologyCols.forEach(csvColName => {
        const target = csvColumnToTargetKeyMap[csvColName];
        if (target) {
            if (Array.isArray(target)) {
                target.forEach(name => mappedMethodologyNamesSet.add(name));
            } else {
                mappedMethodologyNamesSet.add(target);
            }
        }
    });
    detailedMethodologyNames = Array.from(mappedMethodologyNamesSet);

    // Initialize detailedMethodologiesRawData with target methodology names
    detailedMethodologyNames.forEach(name => {
        detailedMethodologiesRawData[name] = {};
    });

    // Parse data rows
    for (let i = 1; i < lines.length; i++) {
        const parts = lines[i].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(p => p.trim().replace(/"/g, '')); // Split by comma, ignore commas inside double quotes
        if (parts.length < 5) continue; // Skip malformed rows

        const group = parts[0];
        const parameter = parts[1];
        const description = parts[2];
        const scoreRange = parts[3];
        const parameterKey = parameter.replace(/[^a-zA-Z0-9]/g, ''); // Sanitize parameter name for keys

        // Skip "Methodology Overview" rows as they are not criteria
        if (group === "Methodology Overview") {
            continue;
        }

        // Add parameter to detailedParameters list only if it's not already there
        // This prevents duplicates if the CSV has redundant parameter entries (though it shouldn't for this file)
        if (!detailedParameters.some(p => p.key === parameterKey)) {
            detailedParameters.push({
                group,
                name: parameter,
                key: parameterKey, // Use sanitized key
                description,
                scoreRange
            });
        }


        csvMethodologyCols.forEach((csvColName, index) => {
            const score = parseInt(parts[4 + index], 10);
            if (!isNaN(score)) {
                const targetKeys = csvColumnToTargetKeyMap[csvColName];
                if (targetKeys) {
                    const keysToUpdate = Array.isArray(targetKeys) ? targetKeys : [targetKeys];
                    keysToUpdate.forEach(targetKey => {
                        if (!detailedMethodologiesRawData[targetKey]) {
                            detailedMethodologiesRawData[targetKey] = {};
                        }
                        detailedMethodologiesRawData[targetKey][parameterKey] = score;
                    });
                }
            }
        });
    }
}

// Call parsing function immediately
parseDetailedCsvData(csvData);

// Extend methodologiesData with new methodologies and their criteria (scaled to 1-10)
detailedMethodologyNames.forEach(methodName => {
    // Ensure the methodology exists in the main data structure
    if (!methodologiesData[methodName]) {
        methodologiesData[methodName] = {
            coreConcept: `Information for ${methodName} is being compiled.`,
            principles: [],
            components: [],
            howItWorks: [],
            advantages: [],
            disadvantages: [],
            whenToUse: [],
            criteria: {} // Initialize criteria
        };
    }
    // Populate or update criteria from detailedMethodologiesRawData (1-5 scale, scaled to 1-10)
    for (const paramKey in detailedMethodologiesRawData[methodName]) {
        // Scale 1-5 score to 1-10 for consistency with existing chart/selector
        const scaledScore = detailedMethodologiesRawData[methodName][paramKey] * 2;
        methodologiesData[methodName].criteria[paramKey] = scaledScore;
    }
});


document.addEventListener('DOMContentLoaded', () => {
    const navContainer = document.getElementById('methodology-nav');
    const contentContainer = document.getElementById('content-section');
    const interactiveToolsSection = document.getElementById('interactive-tools-section');
    const menuToggle = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('sidebar');
    const sidebarOverlay = document.getElementById('sidebar-overlay');
    const darkModeToggle = document.getElementById('dark-mode-toggle');
    const moonIcon = document.getElementById('moon-icon');
    const sunIcon = document.getElementById('sun-icon');

    const chartXAxisSelect = document.getElementById('chart-x-axis');
    const chartYAxisSelect = document.getElementById('chart-y-axis');

    const methodologyNames = Object.keys(methodologiesData);

    // Dark Mode Logic
    function applyDarkMode(isDark) {
        if (isDark) {
            document.body.classList.add('dark');
            moonIcon.classList.add('hidden');
            sunIcon.classList.remove('hidden');
        } else {
            document.body.classList.remove('dark');
            moonIcon.classList.remove('hidden');
            sunIcon.classList.add('hidden');
        }
        // Re-render chart to apply new background color
        renderChart(chartXAxisSelect.value, chartYAxisSelect.value);
    }

    // Check for saved theme preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
        applyDarkMode(true);
    } else {
        applyDarkMode(false); // Ensure light mode is applied if no preference or 'light'
    }

    darkModeToggle.addEventListener('click', () => {
        const isDark = document.body.classList.contains('dark');
        applyDarkMode(!isDark);
        localStorage.setItem('theme', !isDark ? 'dark' : 'light');
    });


    function renderNavigation() {
        // Sort methodology names alphabetically
        const sortedMethodologyNames = [...methodologyNames].sort();

        navContainer.innerHTML = `
            <a href="#" data-section="interactive-tools-section" class="nav-link block px-4 py-2 text-sm text-slate-700 rounded-md hover:bg-slate-200 mb-2">Overview</a>
            <div class="border-t border-slate-200 pt-2 mt-2"></div>
            ${sortedMethodologyNames.map(name => `
                <a href="#" data-methodology="${name}" class="nav-link block px-4 py-2 text-sm text-slate-700 rounded-md hover:bg-slate-200">${name}</a>
            `).join('')}
        `;
    }

    function showSection(sectionId) {
        interactiveToolsSection.classList.add('hidden');
        contentContainer.classList.add('hidden');
        document.getElementById(sectionId).classList.remove('hidden');
    }

    function renderMethodology(name) {
        const data = methodologiesData[name];
        if (!data) return;

        const createAccordionItem = (title, content) => {
            if (!content || content.length === 0) return '';
            
            let contentHtml;
            if (Array.isArray(content)) {
                contentHtml = `<ul class="list-disc space-y-2 prose-custom pl-5">`;
                content.forEach(item => {
                    // Check if the item has a colon to separate a bolded title from a list
                    const parts = item.split(':', 2);
                    if (parts.length > 1) {
                        const mainPart = parts[0].trim();
                        const subParts = parts[1].split(';').map(s => s.trim()).filter(s => s.length > 0); // Split by semicolon for sub-items
                        contentHtml += `<li><strong>${mainPart}</strong>:`;
                        if (subParts.length > 0) {
                            contentHtml += `<ul class="list-disc pl-5 mt-1">`;
                            subParts.forEach(subItem => {
                                contentHtml += `<li>${subItem}</li>`;
                            });
                            contentHtml += `</ul>`;
                        }
                        contentHtml += `</li>`;
                    } else {
                        contentHtml += `<li>${item}</li>`;
                    }
                });
                contentHtml += `</ul>`;
            } else {
                contentHtml = `<div class="prose-custom"><p>${content}</p></div>`;
            }

            return `
                <div class="border-b border-slate-200">
                    <button class="accordion-toggle w-full flex justify-between items-center p-4 text-left font-semibold text-slate-700 hover:bg-slate-50">
                        <span>${title}</span>
                        <svg class="w-5 h-5 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content">
                        ${contentHtml}
                    </div>
                </div>
            `;
        };

        contentContainer.innerHTML = `
            <div class="flex items-center justify-between mb-4 px-4">
                <h2 class="text-3xl font-bold text-slate-800">${name}</h2>
                <button id="return-to-overview-btn" class="px-4 py-2 bg-slate-200 text-slate-700 font-semibold rounded-md hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 text-sm">
                    Return to Overview
                </button>
            </div>
            <div class="accordion-container">
                ${createAccordionItem('Core Concept', data.coreConcept)}
                ${createAccordionItem('Key Principles/Values', data.principles)}
                ${createAccordionItem('Key Components/Elements', data.components)}
                ${createAccordionItem('How it Works (Flow/Process)', data.howItWorks)}
                ${createAccordionItem('Advantages', data.advantages)}
                ${createAccordionItem('Disadvantages', data.disadvantages)}
                ${createAccordionItem('When to Use', data.whenToUse)}
                ${createAccordionItem('Implementation Steps', data.implementationSteps)}
                ${createAccordionItem('Implementation Risks & Mitigation', data.implementationRisks)}
            </div>
        `;

        document.querySelectorAll('.accordion-toggle').forEach((button, index) => {
            button.addEventListener('click', () => {
                const content = button.nextElementSibling;
                const icon = button.querySelector('svg');
                content.classList.toggle('open');
                icon.classList.toggle('rotate-180');
            });
            if (index === 0) {
                button.click();
            }
        });
        
        updateActiveNavLink(name);

        document.getElementById('return-to-overview-btn').addEventListener('click', () => {
            showSection('interactive-tools-section');
            updateActiveNavLink('interactive-tools-section');
            document.querySelector('main').scrollTo({ top: 0, behavior: 'smooth' });
        });
    }
    
    function updateActiveNavLink(activeId) {
         document.querySelectorAll('#methodology-nav .nav-link').forEach(link => {
            if (link.dataset.methodology === activeId || link.dataset.section === activeId) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    }

    navContainer.addEventListener('click', (e) => {
        if (e.target.tagName === 'A') {
            e.preventDefault();
            const sectionId = e.target.dataset.section;
            const methodologyName = e.target.dataset.methodology;

            if (sectionId) {
                showSection(sectionId);
                updateActiveNavLink(sectionId);
            } else if (methodologyName) {
                showSection('content-section');
                renderMethodology(methodologyName);
            }

            if(window.innerWidth < 768) {
                sidebar.classList.add('sidebar-hidden');
                sidebarOverlay.classList.add('hidden');
            }
        }
    });

    menuToggle.addEventListener('click', () => {
        sidebar.classList.toggle('sidebar-hidden');
        sidebarOverlay.classList.toggle('hidden');
    });

    sidebarOverlay.addEventListener('click', () => {
        sidebar.classList.add('sidebar-hidden');
        sidebarOverlay.classList.add('hidden');
    });
    
    function renderChart(xAxisParam = 'flexibility', yAxisParam = 'projectScale') {
        const ctx = document.getElementById('methodologyChart').getContext('2d');
        if (window.myMethodologyChart instanceof Chart) {
            window.myMethodologyChart.destroy();
        }

        const chartPoints = Object.keys(methodologiesData).map(name => {
            const data = methodologiesData[name];
            // Ensure data.criteria[xAxisParam] and data.criteria[yAxisParam] exist
            // If they don't, assign a default value or filter out the point
            const xVal = data.criteria && data.criteria[xAxisParam] !== undefined ? data.criteria[xAxisParam] : 0;
            const yVal = data.criteria && data.criteria[yAxisParam] !== undefined ? data.criteria[yAxisParam] : 0;
            return {
                x: xVal,
                y: yVal,
                name: name
            };
        }).filter(point => point.x !== 0 && point.y !== 0); // Filter out points with default 0 values if criteria missing

        const isDarkMode = document.body.classList.contains('dark');
        const textColor = isDarkMode ? '#e2e8f0' : '#3f3f46';
        const gridColor = isDarkMode ? '#4a5568' : '#e2e8f0';
        const chartBgColor = isDarkMode ? '#2d3748' : '#ffffff';
        const tooltipBgColor = isDarkMode ? '#1e293b' : '#1e293b';


        window.myMethodologyChart = new Chart(ctx, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Methodologies',
                    data: chartPoints,
                    backgroundColor: '#38bdf8',
                    borderColor: '#0ea5e9',
                    pointRadius: 8,
                    pointHoverRadius: 12,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                onClick: (evt, elements) => {
                    if (elements.length > 0) {
                        const point = elements[0];
                        const methodologyName = point.element.$context.raw.name;
                        showSection('content-section');
                        renderMethodology(methodologyName);
                        document.getElementById('content-section').scrollIntoView({ behavior: 'smooth' });
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: parameterDisplayNames[xAxisParam],
                            font: { size: 14, color: textColor } // Apply text color
                        },
                        min: 0,
                        max: 11,
                        ticks: {
                            callback: function(value, index, values) {
                                if (value === this.min) return 'Low';
                                if (value === 5.5) return 'Medium';
                                if (value === this.max) return 'High';
                                return '';
                            },
                            font: { size: 12, weight: 'bold' },
                            color: textColor, // Apply text color
                            padding: 10
                        },
                        grid: {
                            display: true,
                            color: gridColor, // Apply grid color
                            lineWidth: 1
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: parameterDisplayNames[yAxisParam],
                            font: { size: 14, color: textColor } // Apply text color
                        },
                        min: 0,
                        max: 11,
                        ticks: {
                            callback: function(value, index, values) {
                                if (value === this.min) return 'Low';
                                if (value === 5.5) return 'Medium';
                                if (value === this.max) return 'High';
                                return '';
                            },
                            font: { size: 12, weight: 'bold' },
                            color: textColor, // Apply text color
                            padding: 10
                        },
                        grid: {
                            display: true,
                            color: gridColor, // Apply grid color
                            lineWidth: 1
                        }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.raw.name;
                            }
                        },
                        displayColors: false,
                        backgroundColor: tooltipBgColor, // Apply tooltip background color
                        titleFont: { size: 0 },
                        bodyFont: { size: 14, weight: 'bold', color: '#f8fafc' }, // Ensure body text is light
                        padding: 10,
                        cornerRadius: 6,
                    }
                }
            }
        });
        // Set chart background directly on the canvas element
        ctx.canvas.style.backgroundColor = chartBgColor;
    }

    // Methodology Selector Logic
    const recommendBtn = document.getElementById('recommend-btn');
    const resetBtn = document.getElementById('reset-btn');
    // Get all select elements by their IDs
    const regulationSelect = document.getElementById('regulation');
    const safetySelect = document.getElementById('safety');
    const teamSizeSelect = document.getElementById('teamSize');
    const techContextSelect = document.getElementById('techContext');
    const businessGoalSelect = document.getElementById('businessGoal');
    const requirementsSelect = document.getElementById('requirements');
    const releaseFreqSelect = document.getElementById('releaseFreq');
    const qualitySpeedSelect = document.getElementById('qualitySpeed');
    const teamExpSelect = document.getElementById('teamExp');
    const customerAccessSelect = document.getElementById('customerAccess');

    const recommendationOutput = document.getElementById('recommendation-output');
    const recommendationList = document.getElementById('recommendation-list');
    const recommendationMessage = document.getElementById('recommendation-message');
    const comparisonMatrixContainer = document.getElementById('comparison-matrix-container');

    let currentSortColumn = null;
    let currentSortDirection = 'asc';

    recommendBtn.addEventListener('click', () => {
        // Collect all answers
        const answers = {
            regulation: regulationSelect.value,
            safety: safetySelect.value,
            teamSize: teamSizeSelect.value,
            techContext: techContextSelect.value,
            businessGoal: businessGoalSelect.value,
            requirements: requirementsSelect.value,
            releaseFreq: releaseFreqSelect.value,
            qualitySpeed: qualitySpeedSelect.value,
            teamExp: teamExpSelect.value,
            customerAccess: customerAccessSelect.value
        };

        // Validate all selections are made
        const allSelected = Object.values(answers).every(answer => answer !== "");
        if (!allSelected) {
            recommendationOutput.classList.remove('hidden');
            recommendationList.innerHTML = '';
            comparisonMatrixContainer.innerHTML = '';
            recommendationMessage.textContent = 'Please select an option for all criteria to get a recommendation.';
            return;
        }

        const userPreferences = {};
        for (const questionId in answers) {
            const selectedOption = answers[questionId];
            const mapping = criteriaMapping[questionId][selectedOption];

            if (mapping.type === 'range') {
                userPreferences[mapping.criterion] = { type: 'range', min: mapping.min, max: mapping.max };
            } else if (mapping.type === 'preference') {
                for (let i = 0; i < mapping.criteria.length; i++) {
                    const criterion = mapping.criteria[i];
                    const preferredValue = mapping.values[i];
                    userPreferences[criterion] = { type: 'preference', target: preferredValue };
                }
            }
        }

        const scores = [];

        for (const methodName in methodologiesData) {
            const method = methodologiesData[methodName];
            if (!method.criteria) continue;

            let totalMatchScore = 0;
            let applicableCriteriaCount = 0;

            for (const criterion in userPreferences) {
                if (method.criteria[criterion] !== undefined) {
                    const userPref = userPreferences[criterion];
                    const methodValue = method.criteria[criterion];

                    if (userPref.type === 'range') {
                        if (methodValue >= userPref.min && methodValue <= userPref.max) {
                            totalMatchScore += 1;
                        } else {
                            const distance = Math.min(Math.abs(methodValue - userPref.min), Math.abs(methodValue - userPref.max));
                            totalMatchScore += Math.max(0, 1 - (distance / 10));
                        }
                    } else if (userPref.type === 'preference') {
                        const distance = Math.abs(methodValue - userPref.target);
                        totalMatchScore += Math.max(0, 1 - (distance / 10));
                    }
                    applicableCriteriaCount++;
                }
            }

            if (applicableCriteriaCount > 0) {
                scores.push({ name: methodName, score: totalMatchScore / applicableCriteriaCount });
            }
        }

        scores.sort((a, b) => b.score - a.score);

        recommendationList.innerHTML = '';
        let currentRecommendedMethods = [];

        if (scores.length > 0 && scores[0].score > 0.5) {
            const topRecommendations = scores.filter(s => s.score >= scores[0].score - 0.1);
            currentRecommendedMethods = topRecommendations;

            topRecommendations.forEach(rec => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `<a href="#" data-methodology="${rec.name}" class="text-sky-700 hover:underline font-medium">${rec.name}</a> (Match Score: ${rec.score.toFixed(2)})`;
                recommendationList.appendChild(listItem);
            });
            recommendationMessage.textContent = 'These methodologies best fit your project criteria.';

            renderComparisonMatrix(currentRecommendedMethods);
            
        } else {
            recommendationMessage.textContent = 'No strong recommendations found for the selected criteria. Consider adjusting your inputs.';
            comparisonMatrixContainer.classList.add('hidden');
        }
        recommendationOutput.classList.remove('hidden');

        recommendationList.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const methodologyName = e.target.dataset.methodology;
                showSection('content-section');
                renderMethodology(methodologyName);
                document.getElementById('content-section').scrollIntoView({ behavior: 'smooth' });
                if(window.innerWidth < 768) {
                    sidebar.classList.add('sidebar-hidden');
                    sidebarOverlay.classList.add('hidden');
                }
            });
        });
    });

    function renderComparisonMatrix(methodsToDisplay) {
        comparisonMatrixContainer.innerHTML = '';
        if (methodsToDisplay.length === 0) {
            comparisonMatrixContainer.classList.add('hidden');
            return;
        }

        const matrixTable = document.createElement('table');
        matrixTable.className = 'w-full text-sm text-left text-slate-700 border-collapse';
        
        let tableHeader = `<thead class="bg-sky-100/50 border-b border-sky-200"><tr>`;
        const displayCriteria = Object.keys(criteriaLabels); // Use all 10 criteria plus methodology name
        
        displayCriteria.forEach(crit => {
            tableHeader += `<th scope="col" class="py-2 px-4 font-semibold sortable-header" data-sort-by="${crit}">
                                ${criteriaLabels[crit]}
                                <span class="sort-arrow"></span>
                            </th>`;
        });
        tableHeader += `</tr></thead>`;
        matrixTable.innerHTML += tableHeader;

        let tableBody = `<tbody id="matrix-table-body">`;
        methodsToDisplay.forEach(rec => {
            const methodData = methodologiesData[rec.name];
            tableBody += `<tr class="bg-white border-b border-slate-100 hover:bg-slate-50" data-method-name="${rec.name}">`;
            tableBody += `<td class="py-2 px-4 font-medium text-sky-800"><a href="#" data-methodology="${rec.name}" class="hover:underline">${rec.name}</a></td>`;
            
            // Iterate over all criteria to display their values
            displayCriteria.slice(1).forEach(crit => { // Skip methodologyName as it's already added
                const value = methodData.criteria[crit] !== undefined ? getCriteriaValueLabel(crit, methodData.criteria[crit]) : 'N/A';
                tableBody += `<td class="py-2 px-4" data-value="${methodData.criteria[crit]}">${value}</td>`;
            });
            tableBody += `</tr>`;
        });
        tableBody += `</tbody>`;
        matrixTable.innerHTML += tableBody;

        comparisonMatrixContainer.appendChild(matrixTable);
        comparisonMatrixContainer.classList.remove('hidden');

        document.querySelectorAll('#comparison-matrix-container th.sortable-header').forEach(header => {
            header.addEventListener('click', () => {
                const sortBy = header.dataset.sortBy;
                sortMatrix(sortBy);
            });
        });

        matrixTable.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const methodologyName = e.target.dataset.methodology;
                showSection('content-section');
                renderMethodology(methodologyName);
                document.getElementById('content-section').scrollIntoView({ behavior: 'smooth' });
                if(window.innerWidth < 768) {
                    sidebar.classList.add('sidebar-hidden');
                    sidebarOverlay.classList.add('hidden');
                }
            });
        });
    }

    function sortMatrix(sortBy) {
        const tableBody = document.getElementById('matrix-table-body');
        const rows = Array.from(tableBody.querySelectorAll('tr'));
        const headerCells = document.querySelectorAll('#comparison-matrix-container th.sortable-header');

        let columnIndex = -1;
        for (let i = 0; i < headerCells.length; i++) {
            if (headerCells[i].dataset.sortBy === sortBy) {
                columnIndex = i;
                break;
            }
        }

        if (currentSortColumn === sortBy) {
            currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
        } else {
            currentSortColumn = sortBy;
            currentSortDirection = 'asc';
        }

        headerCells.forEach(header => {
            const arrowSpan = header.querySelector('.sort-arrow');
            if (arrowSpan) {
                arrowSpan.textContent = '';
            }
        });

        const activeHeader = document.querySelector(`#comparison-matrix-container th[data-sort-by="${sortBy}"] .sort-arrow`);
        if (activeHeader) {
            activeHeader.textContent = currentSortDirection === 'asc' ? ' â–²' : ' â–¼';
        }

        rows.sort((rowA, rowB) => {
            let valA, valB;

            if (sortBy === 'methodologyName') {
                valA = rowA.querySelector('td:first-child a').textContent.trim();
                valB = rowB.querySelector('td:first-child a').textContent.trim();
                return currentSortDirection === 'asc' ? valA.localeCompare(valB) : valB.localeCompare(valA);
            } else {
                const methodNameA = rowA.dataset.methodName;
                const methodNameB = rowB.dataset.methodName;
                valA = methodologiesData[methodNameA].criteria[sortBy];
                valB = methodologiesData[methodNameB].criteria[sortBy];
                
                return currentSortDirection === 'asc' ? valA - valB : valB - valA;
            }
        });

        rows.forEach(row => tableBody.appendChild(row));
    }

    // Reset button functionality
    resetBtn.addEventListener('click', () => {
        // Reset all select elements
        document.querySelectorAll('#selector-section select').forEach(select => {
            select.value = '';
        });
        recommendationOutput.classList.add('hidden');
        recommendationList.innerHTML = '';
        comparisonMatrixContainer.innerHTML = '';
        recommendationMessage.textContent = '';
        currentSortColumn = null;
        currentSortDirection = 'asc';
        document.querySelectorAll('#comparison-matrix-container th.sortable-header .sort-arrow').forEach(arrow => {
            arrow.textContent = '';
        });
    });

    // Event listeners for updating the chart parameters automatically
    chartXAxisSelect.addEventListener('change', () => {
        const xAxis = chartXAxisSelect.value;
        const yAxis = chartYAxisSelect.value;
        renderChart(xAxis, yAxis);
    });

    chartYAxisSelect.addEventListener('change', () => {
        const xAxis = chartXAxisSelect.value;
        const yAxis = chartYAxisSelect.value;
        renderChart(xAxis, yAxis);
    });

    // --- Detailed Selector UI and Logic ---
    const detailedCriteriaForm = document.getElementById('detailed-criteria-form');
    const detailedRecommendBtn = document.getElementById('detailed-recommend-btn');
    const detailedResetBtn = document.getElementById('detailed-reset-btn');
    const detailedRecommendationOutput = document.getElementById('detailed-recommendation-output');
    const detailedRecommendationList = document.getElementById('detailed-recommendation-list');
    const detailedRecommendationMessage = document.getElementById('detailed-recommendation-message');
    const detailedComparisonMatrixContainer = document.getElementById('detailed-comparison-matrix-container');

    function renderDetailedSelectorUI() {
        detailedCriteriaForm.innerHTML = ''; // Clear previous content
        const groupedParameters = detailedParameters.reduce((acc, param) => {
            if (!acc[param.group]) {
                acc[param.group] = [];
            }
            acc[param.group].push(param);
            return acc;
        }, {});

        for (const group in groupedParameters) {
            const groupDiv = document.createElement('div');
            groupDiv.className = 'mb-6';
            groupDiv.innerHTML = `<h3 class="text-lg font-semibold text-slate-700 mb-3">${group}</h3>`;
            
            const gridDiv = document.createElement('div');
            gridDiv.className = 'grid grid-cols-1 md:grid-cols-2 gap-6';

            groupedParameters[group].forEach(param => {
                const paramDiv = document.createElement('div');
                paramDiv.className = 'flex flex-col';
                paramDiv.innerHTML = `
                    <label for="detailed-select-${param.key}" class="block text-sm font-medium text-slate-700 mb-1" title="${param.description}">
                        ${param.name} 
                        <span class="text-slate-500 text-xs ml-1">(${param.scoreRange})</span>
                    </label>
                    <input type="range" id="detailed-select-${param.key}" min="1" max="5" value="3" 
                           class="w-full h-8 cursor-pointer"
                           oninput="this.nextElementSibling.textContent = this.value;">
                    <span class="text-sm text-slate-600 mt-1 self-end" id="detailed-value-${param.key}">3</span>
                `;
                gridDiv.appendChild(paramDiv);
            });
            groupDiv.appendChild(gridDiv);
            detailedCriteriaForm.appendChild(groupDiv);
        }
    }

    function calculateDetailedRecommendation() {
        const selectedPreferences = {};
        let allDetailedSelectionsMade = true;
        detailedParameters.forEach(param => {
            const sliderElement = document.getElementById(`detailed-select-${param.key}`);
            if (sliderElement) {
                selectedPreferences[param.key] = parseInt(sliderElement.value, 10);
            } else {
                allDetailedSelectionsMade = false; // Should not happen with default values
            }
        });

        // No need for explicit check if all selected as sliders always have a value
        // The previous check for `select.value !== ""` is now implicitly handled by `sliderElement.value` always being a number.

        const scores = [];
        for (const methodName in detailedMethodologiesRawData) {
            const methodCriteria = detailedMethodologiesRawData[methodName];
            let totalMatchScore = 0;
            let applicableCriteriaCount = 0;

            for (const paramKey in selectedPreferences) {
                if (methodCriteria[paramKey] !== undefined) {
                    const userPrefScore = selectedPreferences[paramKey];
                    const methodScore = methodCriteria[paramKey];
                    const difference = Math.abs(userPrefScore - methodScore);
                    // Score based on inverse difference (0 diff = 1.0, 4 diff = 0.0)
                    totalMatchScore += (5 - difference) / 5; // Scale from 0 to 1
                    applicableCriteriaCount++;
                }
            }

            if (applicableCriteriaCount > 0) {
                scores.push({ name: methodName, score: totalMatchScore / applicableCriteriaCount });
            }
        }

        scores.sort((a, b) => b.score - a.score);

        detailedRecommendationList.innerHTML = '';
        let currentDetailedRecommendedMethods = [];

        if (scores.length > 0 && scores[0].score > 0.5) {
            const topRecommendations = scores.filter(s => s.score >= scores[0].score - 0.1);
            currentDetailedRecommendedMethods = topRecommendations;

            topRecommendations.forEach(rec => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `<a href="#" data-methodology="${rec.name}" class="text-sky-700 hover:underline font-medium">${rec.name}</a> (Match Score: ${rec.score.toFixed(2)})`;
                detailedRecommendationList.appendChild(listItem);
            });
            detailedRecommendationMessage.textContent = 'These methodologies best fit your project criteria.';

            renderDetailedComparisonMatrix(currentDetailedRecommendedMethods);
            
        } else {
            detailedRecommendationMessage.textContent = 'No strong recommendations found for the selected criteria. Consider adjusting your inputs.';
            detailedComparisonMatrixContainer.classList.add('hidden');
        }
        detailedRecommendationOutput.classList.remove('hidden');

        detailedRecommendationList.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const methodologyName = e.target.dataset.methodology;
                showSection('content-section');
                renderMethodology(methodologyName);
                document.getElementById('content-section').scrollIntoView({ behavior: 'smooth' });
                if(window.innerWidth < 768) {
                    sidebar.classList.add('sidebar-hidden');
                    sidebarOverlay.classList.add('hidden');
                }
            });
        });
    }

    let currentDetailedSortColumn = null;
    let currentDetailedSortDirection = 'asc';

    function renderDetailedComparisonMatrix(methodsToDisplay) {
        detailedComparisonMatrixContainer.innerHTML = '';
        if (methodsToDisplay.length === 0) {
            detailedComparisonMatrixContainer.classList.add('hidden');
            return;
        }

        const matrixTable = document.createElement('table');
        matrixTable.className = 'w-full text-sm text-left text-slate-700 border-collapse';
        
        let tableHeader = `<thead class="bg-sky-100/50 border-b border-sky-200"><tr>`;
        tableHeader += `<th scope="col" class="py-2 px-4 font-semibold">Methodology</th>`;
        
        // Create headers for all detailed parameters
        detailedParameters.forEach(param => {
            tableHeader += `<th scope="col" class="py-2 px-4 font-semibold sortable-header" data-sort-by="${param.key}" title="${param.description} (${param.scoreRange})">
                                ${param.name}
                                <span class="sort-arrow"></span>
                            </th>`;
        });
        tableHeader += `</tr></thead>`;
        matrixTable.innerHTML += tableHeader;

        let tableBody = `<tbody id="detailed-matrix-table-body">`;
        methodsToDisplay.forEach(rec => {
            const methodData = detailedMethodologiesRawData[rec.name];
            tableBody += `<tr class="bg-white border-b border-slate-100 hover:bg-slate-50" data-method-name="${rec.name}">`;
            tableBody += `<td class="py-2 px-4 font-medium text-sky-800"><a href="#" data-methodology="${rec.name}" class="hover:underline">${rec.name}</a></td>`;
            
            detailedParameters.forEach(param => {
                const score = methodData[param.key] !== undefined ? methodData[param.key] : 'N/A';
                tableBody += `<td class="py-2 px-4" data-value="${score}">${score}</td>`;
            });
            tableBody += `</tr>`;
        });
        tableBody += `</tbody>`;
        matrixTable.innerHTML += tableBody;

        detailedComparisonMatrixContainer.appendChild(matrixTable);
        detailedComparisonMatrixContainer.classList.remove('hidden');

        // Add sorting for detailed matrix
        document.querySelectorAll('#detailed-comparison-matrix-container th.sortable-header').forEach(header => {
            header.addEventListener('click', () => {
                const sortBy = header.dataset.sortBy;
                sortDetailedMatrix(sortBy);
            });
        });

        matrixTable.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const methodologyName = e.target.dataset.methodology;
                showSection('content-section');
                renderMethodology(methodologyName);
                document.getElementById('content-section').scrollIntoView({ behavior: 'smooth' });
                if(window.innerWidth < 768) {
                    sidebar.classList.add('sidebar-hidden');
                    sidebarOverlay.classList.add('hidden');
                }
            });
        });
    }

    function sortDetailedMatrix(sortBy) {
        const tableBody = document.getElementById('detailed-matrix-table-body');
        const rows = Array.from(tableBody.querySelectorAll('tr'));
        const headerCells = document.querySelectorAll('#detailed-comparison-matrix-container th.sortable-header');

        let columnIndex = -1;
        for (let i = 0; i < headerCells.length; i++) {
            if (headerCells[i].dataset.sortBy === sortBy) {
                columnIndex = i;
                break;
            }
        }

        if (currentDetailedSortColumn === sortBy) {
            currentDetailedSortDirection = currentDetailedSortDirection === 'asc' ? 'desc' : 'asc';
        } else {
            currentDetailedSortColumn = sortBy;
            currentDetailedSortDirection = 'asc';
        }

        headerCells.forEach(header => {
            const arrowSpan = header.querySelector('.sort-arrow');
            if (arrowSpan) {
                arrowSpan.textContent = '';
            }
        });

        const activeHeader = document.querySelector(`#detailed-comparison-matrix-container th[data-sort-by="${sortBy}"] .sort-arrow`);
        if (activeHeader) {
            activeHeader.textContent = currentDetailedSortDirection === 'asc' ? ' â–²' : ' â–¼';
        }

        rows.sort((rowA, rowB) => {
            const methodNameA = rowA.dataset.methodName;
            const methodNameB = rowB.dataset.methodName;
            const valA = detailedMethodologiesRawData[methodNameA][sortBy];
            const valB = detailedMethodologiesRawData[methodNameB][sortBy];
            
            if (typeof valA === 'number' && typeof valB === 'number') {
                return currentDetailedSortDirection === 'asc' ? valA - valB : valB - valA;
            } else {
                return currentDetailedSortDirection === 'asc' ? String(valA).localeCompare(String(valB)) : String(valB).localeCompare(String(valA));
            }
        });

        rows.forEach(row => tableBody.appendChild(row));
    }

    detailedRecommendBtn.addEventListener('click', calculateDetailedRecommendation);
    detailedResetBtn.addEventListener('click', () => {
        document.querySelectorAll('#detailed-criteria-form input[type="range"]').forEach(slider => {
            slider.value = '3';
            document.getElementById(`detailed-value-${slider.id.replace('detailed-select-', '')}`).textContent = '3'; // Update displayed value
        });
        detailedRecommendationOutput.classList.add('hidden');
        detailedRecommendationList.innerHTML = '';
        detailedComparisonMatrixContainer.innerHTML = '';
        detailedRecommendationMessage.textContent = '';
        currentDetailedSortColumn = null;
        currentDetailedSortDirection = 'asc';
        document.querySelectorAll('#detailed-comparison-matrix-container th.sortable-header .sort-arrow').forEach(arrow => {
            arrow.textContent = '';
        });
    });


    renderNavigation();
    showSection('interactive-tools-section');
    updateActiveNavLink('interactive-tools-section');
    // Initial render of the chart with default parameters
    renderChart(chartXAxisSelect.value, chartYAxisSelect.value);
    // Initial render of the detailed selector UI
    renderDetailedSelectorUI();
});
</script>

</body>
</html>